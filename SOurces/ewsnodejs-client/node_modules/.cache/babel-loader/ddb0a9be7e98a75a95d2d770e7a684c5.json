{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (typeof point !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Align);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Align.__proto__ || Object.getPrototypeOf(Align)).call.apply(_ref, [this].concat(args))), _this), _this.forceAlign = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          target = _this$props.target,\n          align = _this$props.align,\n          onAlign = _this$props.onAlign;\n\n      if (!disabled && target) {\n        var source = ReactDOM.findDOMNode(_this);\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target); // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (onAlign) {\n          onAlign(source, result);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props; // if parent ref not attached .... use document.getElementById\n\n      this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(this);\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          } // If source element size changed\n\n\n          var preRect = this.sourceRect || {};\n\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        this.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n      var child = React.Children.only(children);\n\n      if (childrenProps) {\n        var newProps = {};\n        var propList = Object.keys(childrenProps);\n        propList.forEach(function (prop) {\n          newProps[prop] = _this2.props[childrenProps[prop]];\n        });\n        return React.cloneElement(child, newProps);\n      }\n\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.propTypes = {\n  childrenProps: PropTypes.object,\n  align: PropTypes.object.isRequired,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    clientX: PropTypes.number,\n    clientY: PropTypes.number,\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })]),\n  onAlign: PropTypes.func,\n  monitorBufferTime: PropTypes.number,\n  monitorWindowResize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.any\n};\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\nexport default Align;","map":{"version":3,"sources":["/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/rc-align/es/Align.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Component","PropTypes","ReactDOM","alignElement","alignPoint","addEventListener","isWindow","buffer","isSamePoint","isSimilarValue","restoreFocus","getElement","func","getPoint","point","Align","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","Object","getPrototypeOf","call","apply","concat","forceAlign","_this$props","props","disabled","target","align","onAlign","source","findDOMNode","result","element","activeElement","document","key","value","componentDidMount","monitorWindowResize","startMonitorWindowResize","componentDidUpdate","prevProps","reAlign","sourceRect","getBoundingClientRect","lastElement","currentElement","lastPoint","currentPoint","preRect","width","height","stopMonitorWindowResize","componentWillUnmount","resizeHandler","bufferMonitor","monitorBufferTime","window","clear","remove","render","_this2","_props","childrenProps","children","child","Children","only","newProps","propList","keys","forEach","prop","cloneElement","propTypes","object","isRequired","oneOfType","shape","clientX","number","clientY","pageX","pageY","bool","any","defaultProps"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\n\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (typeof point !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Align);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Align.__proto__ || Object.getPrototypeOf(Align)).call.apply(_ref, [this].concat(args))), _this), _this.forceAlign = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          target = _this$props.target,\n          align = _this$props.align,\n          onAlign = _this$props.onAlign;\n\n      if (!disabled && target) {\n        var source = ReactDOM.findDOMNode(_this);\n\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target);\n\n        // IE lose focus after element realign\n        // We should record activeElement and restore later\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (onAlign) {\n          onAlign(source, result);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props;\n      // if parent ref not attached .... use document.getElementById\n      this.forceAlign();\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(this);\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          }\n\n          // If source element size changed\n          var preRect = this.sourceRect || {};\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        this.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n\n      var child = React.Children.only(children);\n      if (childrenProps) {\n        var newProps = {};\n        var propList = Object.keys(childrenProps);\n        propList.forEach(function (prop) {\n          newProps[prop] = _this2.props[childrenProps[prop]];\n        });\n\n        return React.cloneElement(child, newProps);\n      }\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.propTypes = {\n  childrenProps: PropTypes.object,\n  align: PropTypes.object.isRequired,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    clientX: PropTypes.number,\n    clientY: PropTypes.number,\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })]),\n  onAlign: PropTypes.func,\n  monitorBufferTime: PropTypes.number,\n  monitorWindowResize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.any\n};\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\n\n\nexport default Align;"]},"metadata":{},"sourceType":"module"}