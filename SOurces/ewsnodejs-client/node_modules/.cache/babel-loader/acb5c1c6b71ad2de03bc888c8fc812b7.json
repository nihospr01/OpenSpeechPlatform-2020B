{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport moment from 'moment';\nvar defaultDisabledTime = {\n  disabledHours: function disabledHours() {\n    return [];\n  },\n  disabledMinutes: function disabledMinutes() {\n    return [];\n  },\n  disabledSeconds: function disabledSeconds() {\n    return [];\n  }\n};\nexport function getTodayTime(value) {\n  var today = moment();\n  today.locale(value.locale()).utcOffset(value.utcOffset());\n  return today;\n}\nexport function getTitleString(value) {\n  return value.format('LL');\n}\nexport function getTodayTimeStr(value) {\n  var today = getTodayTime(value);\n  return getTitleString(today);\n}\nexport function getMonthName(month) {\n  var locale = month.locale();\n  var localeData = month.localeData();\n  return localeData[locale === 'zh-cn' ? 'months' : 'monthsShort'](month);\n}\nexport function syncTime(from, to) {\n  if (!moment.isMoment(from) || !moment.isMoment(to)) return;\n  to.hour(from.hour());\n  to.minute(from.minute());\n  to.second(from.second());\n  to.millisecond(from.millisecond());\n}\nexport function getTimeConfig(value, disabledTime) {\n  var disabledTimeConfig = disabledTime ? disabledTime(value) : {};\n  disabledTimeConfig = _extends({}, defaultDisabledTime, disabledTimeConfig);\n  return disabledTimeConfig;\n}\nexport function isTimeValidByConfig(value, disabledTimeConfig) {\n  var invalidTime = false;\n\n  if (value) {\n    var hour = value.hour();\n    var minutes = value.minute();\n    var seconds = value.second();\n    var disabledHours = disabledTimeConfig.disabledHours();\n\n    if (disabledHours.indexOf(hour) === -1) {\n      var disabledMinutes = disabledTimeConfig.disabledMinutes(hour);\n\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        var disabledSeconds = disabledTimeConfig.disabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n\n  return !invalidTime;\n}\nexport function isTimeValid(value, disabledTime) {\n  var disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\nexport function isAllowedDate(value, disabledDate, disabledTime) {\n  if (disabledDate) {\n    if (disabledDate(value)) {\n      return false;\n    }\n  }\n\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function formatDate(value, format) {\n  if (!value) {\n    return '';\n  }\n\n  if (Array.isArray(format)) {\n    format = format[0];\n  }\n\n  return value.format(format);\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-calendar/es/util/index.js"],"names":["_extends","moment","defaultDisabledTime","disabledHours","disabledMinutes","disabledSeconds","getTodayTime","value","today","locale","utcOffset","getTitleString","format","getTodayTimeStr","getMonthName","month","localeData","syncTime","from","to","isMoment","hour","minute","second","millisecond","getTimeConfig","disabledTime","disabledTimeConfig","isTimeValidByConfig","invalidTime","minutes","seconds","indexOf","isTimeValid","isAllowedDate","disabledDate","formatDate","Array","isArray"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport moment from 'moment';\n\nvar defaultDisabledTime = {\n  disabledHours: function disabledHours() {\n    return [];\n  },\n  disabledMinutes: function disabledMinutes() {\n    return [];\n  },\n  disabledSeconds: function disabledSeconds() {\n    return [];\n  }\n};\n\nexport function getTodayTime(value) {\n  var today = moment();\n  today.locale(value.locale()).utcOffset(value.utcOffset());\n  return today;\n}\n\nexport function getTitleString(value) {\n  return value.format('LL');\n}\n\nexport function getTodayTimeStr(value) {\n  var today = getTodayTime(value);\n  return getTitleString(today);\n}\n\nexport function getMonthName(month) {\n  var locale = month.locale();\n  var localeData = month.localeData();\n  return localeData[locale === 'zh-cn' ? 'months' : 'monthsShort'](month);\n}\n\nexport function syncTime(from, to) {\n  if (!moment.isMoment(from) || !moment.isMoment(to)) return;\n  to.hour(from.hour());\n  to.minute(from.minute());\n  to.second(from.second());\n  to.millisecond(from.millisecond());\n}\n\nexport function getTimeConfig(value, disabledTime) {\n  var disabledTimeConfig = disabledTime ? disabledTime(value) : {};\n  disabledTimeConfig = _extends({}, defaultDisabledTime, disabledTimeConfig);\n  return disabledTimeConfig;\n}\n\nexport function isTimeValidByConfig(value, disabledTimeConfig) {\n  var invalidTime = false;\n  if (value) {\n    var hour = value.hour();\n    var minutes = value.minute();\n    var seconds = value.second();\n    var disabledHours = disabledTimeConfig.disabledHours();\n    if (disabledHours.indexOf(hour) === -1) {\n      var disabledMinutes = disabledTimeConfig.disabledMinutes(hour);\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        var disabledSeconds = disabledTimeConfig.disabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n  return !invalidTime;\n}\n\nexport function isTimeValid(value, disabledTime) {\n  var disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\n\nexport function isAllowedDate(value, disabledDate, disabledTime) {\n  if (disabledDate) {\n    if (disabledDate(value)) {\n      return false;\n    }\n  }\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function formatDate(value, format) {\n  if (!value) {\n    return '';\n  }\n\n  if (Array.isArray(format)) {\n    format = format[0];\n  }\n\n  return value.format(format);\n}"]},"metadata":{},"sourceType":"module"}