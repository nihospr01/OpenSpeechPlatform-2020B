{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getRangeBoundingClientRect\n * @format\n * \n */\n'use strict';\n\nvar getRangeClientRects = require('./getRangeClientRects');\n/**\n * Like range.getBoundingClientRect() but normalizes for browser bugs.\n */\n\n\nfunction getRangeBoundingClientRect(range) {\n  // \"Return a DOMRect object describing the smallest rectangle that includes\n  // the first rectangle in list and all of the remaining rectangles of which\n  // the height or width is not zero.\"\n  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect\n  var rects = getRangeClientRects(range);\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var left = 0;\n\n  if (rects.length) {\n    // If the first rectangle has 0 width, we use the second, this is needed\n    // because Chrome renders a 0 width rectangle when the selection contains\n    // a line break.\n    if (rects.length > 1 && rects[0].width === 0) {\n      var _rects$ = rects[1];\n      top = _rects$.top;\n      right = _rects$.right;\n      bottom = _rects$.bottom;\n      left = _rects$.left;\n    } else {\n      var _rects$2 = rects[0];\n      top = _rects$2.top;\n      right = _rects$2.right;\n      bottom = _rects$2.bottom;\n      left = _rects$2.left;\n    }\n\n    for (var ii = 1; ii < rects.length; ii++) {\n      var rect = rects[ii];\n\n      if (rect.height !== 0 && rect.width !== 0) {\n        top = Math.min(top, rect.top);\n        right = Math.max(right, rect.right);\n        bottom = Math.max(bottom, rect.bottom);\n        left = Math.min(left, rect.left);\n      }\n    }\n  }\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top\n  };\n}\n\nmodule.exports = getRangeBoundingClientRect;","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/draft-js/lib/getRangeBoundingClientRect.js"],"names":["getRangeClientRects","require","getRangeBoundingClientRect","range","rects","top","right","bottom","left","length","width","_rects$","_rects$2","ii","rect","height","Math","min","max","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,mBAAmB,GAAGC,OAAO,CAAC,uBAAD,CAAjC;AAEA;AACA;AACA;;;AACA,SAASC,0BAAT,CAAoCC,KAApC,EAA2C;AACzC;AACA;AACA;AACA;AACA,MAAIC,KAAK,GAAGJ,mBAAmB,CAACG,KAAD,CAA/B;AACA,MAAIE,GAAG,GAAG,CAAV;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIC,IAAI,GAAG,CAAX;;AAEA,MAAIJ,KAAK,CAACK,MAAV,EAAkB;AAChB;AACA;AACA;AACA,QAAIL,KAAK,CAACK,MAAN,GAAe,CAAf,IAAoBL,KAAK,CAAC,CAAD,CAAL,CAASM,KAAT,KAAmB,CAA3C,EAA8C;AAC5C,UAAIC,OAAO,GAAGP,KAAK,CAAC,CAAD,CAAnB;AACAC,MAAAA,GAAG,GAAGM,OAAO,CAACN,GAAd;AACAC,MAAAA,KAAK,GAAGK,OAAO,CAACL,KAAhB;AACAC,MAAAA,MAAM,GAAGI,OAAO,CAACJ,MAAjB;AACAC,MAAAA,IAAI,GAAGG,OAAO,CAACH,IAAf;AACD,KAND,MAMO;AACL,UAAII,QAAQ,GAAGR,KAAK,CAAC,CAAD,CAApB;AACAC,MAAAA,GAAG,GAAGO,QAAQ,CAACP,GAAf;AACAC,MAAAA,KAAK,GAAGM,QAAQ,CAACN,KAAjB;AACAC,MAAAA,MAAM,GAAGK,QAAQ,CAACL,MAAlB;AACAC,MAAAA,IAAI,GAAGI,QAAQ,CAACJ,IAAhB;AACD;;AAED,SAAK,IAAIK,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGT,KAAK,CAACK,MAA5B,EAAoCI,EAAE,EAAtC,EAA0C;AACxC,UAAIC,IAAI,GAAGV,KAAK,CAACS,EAAD,CAAhB;;AACA,UAAIC,IAAI,CAACC,MAAL,KAAgB,CAAhB,IAAqBD,IAAI,CAACJ,KAAL,KAAe,CAAxC,EAA2C;AACzCL,QAAAA,GAAG,GAAGW,IAAI,CAACC,GAAL,CAASZ,GAAT,EAAcS,IAAI,CAACT,GAAnB,CAAN;AACAC,QAAAA,KAAK,GAAGU,IAAI,CAACE,GAAL,CAASZ,KAAT,EAAgBQ,IAAI,CAACR,KAArB,CAAR;AACAC,QAAAA,MAAM,GAAGS,IAAI,CAACE,GAAL,CAASX,MAAT,EAAiBO,IAAI,CAACP,MAAtB,CAAT;AACAC,QAAAA,IAAI,GAAGQ,IAAI,CAACC,GAAL,CAAST,IAAT,EAAeM,IAAI,CAACN,IAApB,CAAP;AACD;AACF;AACF;;AAED,SAAO;AACLH,IAAAA,GAAG,EAAEA,GADA;AAELC,IAAAA,KAAK,EAAEA,KAFF;AAGLC,IAAAA,MAAM,EAAEA,MAHH;AAILC,IAAAA,IAAI,EAAEA,IAJD;AAKLE,IAAAA,KAAK,EAAEJ,KAAK,GAAGE,IALV;AAMLO,IAAAA,MAAM,EAAER,MAAM,GAAGF;AANZ,GAAP;AAQD;;AAEDc,MAAM,CAACC,OAAP,GAAiBlB,0BAAjB","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getRangeBoundingClientRect\n * @format\n * \n */\n\n'use strict';\n\nvar getRangeClientRects = require('./getRangeClientRects');\n\n/**\n * Like range.getBoundingClientRect() but normalizes for browser bugs.\n */\nfunction getRangeBoundingClientRect(range) {\n  // \"Return a DOMRect object describing the smallest rectangle that includes\n  // the first rectangle in list and all of the remaining rectangles of which\n  // the height or width is not zero.\"\n  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect\n  var rects = getRangeClientRects(range);\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var left = 0;\n\n  if (rects.length) {\n    // If the first rectangle has 0 width, we use the second, this is needed\n    // because Chrome renders a 0 width rectangle when the selection contains\n    // a line break.\n    if (rects.length > 1 && rects[0].width === 0) {\n      var _rects$ = rects[1];\n      top = _rects$.top;\n      right = _rects$.right;\n      bottom = _rects$.bottom;\n      left = _rects$.left;\n    } else {\n      var _rects$2 = rects[0];\n      top = _rects$2.top;\n      right = _rects$2.right;\n      bottom = _rects$2.bottom;\n      left = _rects$2.left;\n    }\n\n    for (var ii = 1; ii < rects.length; ii++) {\n      var rect = rects[ii];\n      if (rect.height !== 0 && rect.width !== 0) {\n        top = Math.min(top, rect.top);\n        right = Math.max(right, rect.right);\n        bottom = Math.max(bottom, rect.bottom);\n        left = Math.min(left, rect.left);\n      }\n    }\n  }\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top\n  };\n}\n\nmodule.exports = getRangeBoundingClientRect;"]},"metadata":{},"sourceType":"script"}