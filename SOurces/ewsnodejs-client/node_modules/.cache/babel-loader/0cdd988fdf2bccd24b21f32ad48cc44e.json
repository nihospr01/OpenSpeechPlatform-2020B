{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport hoistStatics from 'hoist-non-react-statics';\nimport warning from 'warning';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'WrappedComponent';\n}\n\nexport function argumentContainer(Container, WrappedComponent) {\n  /* eslint no-param-reassign:0 */\n  Container.displayName = 'Form(' + getDisplayName(WrappedComponent) + ')';\n  Container.WrappedComponent = WrappedComponent;\n  return hoistStatics(Container, WrappedComponent);\n}\nexport function identity(obj) {\n  return obj;\n}\nexport function flattenArray(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\nexport function treeTraverse() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var tree = arguments[1];\n  var isLeafNode = arguments[2];\n  var errorMessage = arguments[3];\n  var callback = arguments[4];\n\n  if (isLeafNode(path, tree)) {\n    callback(path, tree);\n  } else if (tree === undefined || tree === null) {// Do nothing\n  } else if (Array.isArray(tree)) {\n    tree.forEach(function (subTree, index) {\n      return treeTraverse(path + '[' + index + ']', subTree, isLeafNode, errorMessage, callback);\n    });\n  } else {\n    // It's object and not a leaf node\n    if (typeof tree !== 'object') {\n      warning(false, errorMessage);\n      return;\n    }\n\n    Object.keys(tree).forEach(function (subTreeKey) {\n      var subTree = tree[subTreeKey];\n      treeTraverse('' + path + (path ? '.' : '') + subTreeKey, subTree, isLeafNode, errorMessage, callback);\n    });\n  }\n}\nexport function flattenFields(maybeNestedFields, isLeafNode, errorMessage) {\n  var fields = {};\n  treeTraverse(undefined, maybeNestedFields, isLeafNode, errorMessage, function (path, node) {\n    fields[path] = node;\n  });\n  return fields;\n}\nexport function normalizeValidateRules(validate, rules, validateTrigger) {\n  var validateRules = validate.map(function (item) {\n    var newItem = _extends({}, item, {\n      trigger: item.trigger || []\n    });\n\n    if (typeof newItem.trigger === 'string') {\n      newItem.trigger = [newItem.trigger];\n    }\n\n    return newItem;\n  });\n\n  if (rules) {\n    validateRules.push({\n      trigger: validateTrigger ? [].concat(validateTrigger) : [],\n      rules: rules\n    });\n  }\n\n  return validateRules;\n}\nexport function getValidateTriggers(validateRules) {\n  return validateRules.filter(function (item) {\n    return !!item.rules && item.rules.length;\n  }).map(function (item) {\n    return item.trigger;\n  }).reduce(function (pre, curr) {\n    return pre.concat(curr);\n  }, []);\n}\nexport function getValueFromEvent(e) {\n  // To support custom element\n  if (!e || !e.target) {\n    return e;\n  }\n\n  var target = e.target;\n  return target.type === 'checkbox' ? target.checked : target.value;\n}\nexport function getErrorStrs(errors) {\n  if (errors) {\n    return errors.map(function (e) {\n      if (e && e.message) {\n        return e.message;\n      }\n\n      return e;\n    });\n  }\n\n  return errors;\n}\nexport function getParams(ns, opt, cb) {\n  var names = ns;\n  var options = opt;\n  var callback = cb;\n\n  if (cb === undefined) {\n    if (typeof names === 'function') {\n      callback = names;\n      options = {};\n      names = undefined;\n    } else if (Array.isArray(names)) {\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      } else {\n        options = options || {};\n      }\n    } else {\n      callback = options;\n      options = names || {};\n      names = undefined;\n    }\n  }\n\n  return {\n    names: names,\n    options: options,\n    callback: callback\n  };\n}\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\nexport function hasRules(validate) {\n  if (validate) {\n    return validate.some(function (item) {\n      return item.rules && item.rules.length;\n    });\n  }\n\n  return false;\n}\nexport function startsWith(str, prefix) {\n  return str.lastIndexOf(prefix, 0) === 0;\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-form/es/utils.js"],"names":["_extends","hoistStatics","warning","getDisplayName","WrappedComponent","displayName","name","argumentContainer","Container","identity","obj","flattenArray","arr","Array","prototype","concat","apply","treeTraverse","path","arguments","length","undefined","tree","isLeafNode","errorMessage","callback","isArray","forEach","subTree","index","Object","keys","subTreeKey","flattenFields","maybeNestedFields","fields","node","normalizeValidateRules","validate","rules","validateTrigger","validateRules","map","item","newItem","trigger","push","getValidateTriggers","filter","reduce","pre","curr","getValueFromEvent","e","target","type","checked","value","getErrorStrs","errors","message","getParams","ns","opt","cb","names","options","isEmptyObject","hasRules","some","startsWith","str","prefix","lastIndexOf"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport hoistStatics from 'hoist-non-react-statics';\nimport warning from 'warning';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'WrappedComponent';\n}\n\nexport function argumentContainer(Container, WrappedComponent) {\n  /* eslint no-param-reassign:0 */\n  Container.displayName = 'Form(' + getDisplayName(WrappedComponent) + ')';\n  Container.WrappedComponent = WrappedComponent;\n  return hoistStatics(Container, WrappedComponent);\n}\n\nexport function identity(obj) {\n  return obj;\n}\n\nexport function flattenArray(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nexport function treeTraverse() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var tree = arguments[1];\n  var isLeafNode = arguments[2];\n  var errorMessage = arguments[3];\n  var callback = arguments[4];\n\n  if (isLeafNode(path, tree)) {\n    callback(path, tree);\n  } else if (tree === undefined || tree === null) {\n    // Do nothing\n  } else if (Array.isArray(tree)) {\n    tree.forEach(function (subTree, index) {\n      return treeTraverse(path + '[' + index + ']', subTree, isLeafNode, errorMessage, callback);\n    });\n  } else {\n    // It's object and not a leaf node\n    if (typeof tree !== 'object') {\n      warning(false, errorMessage);\n      return;\n    }\n    Object.keys(tree).forEach(function (subTreeKey) {\n      var subTree = tree[subTreeKey];\n      treeTraverse('' + path + (path ? '.' : '') + subTreeKey, subTree, isLeafNode, errorMessage, callback);\n    });\n  }\n}\n\nexport function flattenFields(maybeNestedFields, isLeafNode, errorMessage) {\n  var fields = {};\n  treeTraverse(undefined, maybeNestedFields, isLeafNode, errorMessage, function (path, node) {\n    fields[path] = node;\n  });\n  return fields;\n}\n\nexport function normalizeValidateRules(validate, rules, validateTrigger) {\n  var validateRules = validate.map(function (item) {\n    var newItem = _extends({}, item, {\n      trigger: item.trigger || []\n    });\n    if (typeof newItem.trigger === 'string') {\n      newItem.trigger = [newItem.trigger];\n    }\n    return newItem;\n  });\n  if (rules) {\n    validateRules.push({\n      trigger: validateTrigger ? [].concat(validateTrigger) : [],\n      rules: rules\n    });\n  }\n  return validateRules;\n}\n\nexport function getValidateTriggers(validateRules) {\n  return validateRules.filter(function (item) {\n    return !!item.rules && item.rules.length;\n  }).map(function (item) {\n    return item.trigger;\n  }).reduce(function (pre, curr) {\n    return pre.concat(curr);\n  }, []);\n}\n\nexport function getValueFromEvent(e) {\n  // To support custom element\n  if (!e || !e.target) {\n    return e;\n  }\n  var target = e.target;\n\n  return target.type === 'checkbox' ? target.checked : target.value;\n}\n\nexport function getErrorStrs(errors) {\n  if (errors) {\n    return errors.map(function (e) {\n      if (e && e.message) {\n        return e.message;\n      }\n      return e;\n    });\n  }\n  return errors;\n}\n\nexport function getParams(ns, opt, cb) {\n  var names = ns;\n  var options = opt;\n  var callback = cb;\n  if (cb === undefined) {\n    if (typeof names === 'function') {\n      callback = names;\n      options = {};\n      names = undefined;\n    } else if (Array.isArray(names)) {\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      } else {\n        options = options || {};\n      }\n    } else {\n      callback = options;\n      options = names || {};\n      names = undefined;\n    }\n  }\n  return {\n    names: names,\n    options: options,\n    callback: callback\n  };\n}\n\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nexport function hasRules(validate) {\n  if (validate) {\n    return validate.some(function (item) {\n      return item.rules && item.rules.length;\n    });\n  }\n  return false;\n}\n\nexport function startsWith(str, prefix) {\n  return str.lastIndexOf(prefix, 0) === 0;\n}"]},"metadata":{},"sourceType":"module"}