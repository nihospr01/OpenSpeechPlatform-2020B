{"ast":null,"code":"import _slicedToArray from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactAudioPlayer from'react-h5-audio-player';import{withRouter}from'react-router-dom';import{compose}from'recompose';import axios from'axios';import withUserAuth from'context/withUserAuth';import'react-h5-audio-player/lib/styles.css';import Alert from'@material-ui/lab/Alert';var serverPrefix=\"/api/researcher/audio?name=\";function AudioPlayer(_ref){var audioName=_ref.audioName;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),reqError=_useState2[0],setReqError=_useState2[1];var url=serverPrefix+audioName;useEffect(function(){axios.get(url).catch(function(error){var _error$response;if((error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)!=null){if(error.response.status==404){setReqError(\"Can't find audio: \"+audioName);}else{setReqError(\"Can't play audio: \"+audioName);}}});},[url,setReqError,audioName]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReactAudioPlayer,{autoPlay:false,src:reqError==null?url:null,showJumpControls:false}),reqError&&/*#__PURE__*/React.createElement(Alert,{severity:\"warning\"},reqError));}export default compose(withUserAuth,withRouter)(AudioPlayer);","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/src/components/AudioPlayer.jsx"],"names":["React","useState","useEffect","ReactAudioPlayer","withRouter","compose","axios","withUserAuth","Alert","serverPrefix","AudioPlayer","audioName","reqError","setReqError","url","get","catch","error","response","status"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uBAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CAOA,GAAMC,CAAAA,YAAY,CAAG,6BAArB,CAGA,QAASC,CAAAA,WAAT,MAAyD,IAAnCC,CAAAA,SAAmC,MAAnCA,SAAmC,eAErBV,QAAQ,CAAC,IAAD,CAFa,wCAE9CW,QAF8C,eAEpCC,WAFoC,eAIrD,GAAMC,CAAAA,GAAG,CAAGL,YAAY,CAAGE,SAA3B,CAEAT,SAAS,CAAC,UAAM,CACZI,KAAK,CAACS,GAAN,CAAUD,GAAV,EAAeE,KAAf,CAAqB,SAAAC,KAAK,CAAI,qBAC1B,GAAI,CAAAA,KAAK,OAAL,EAAAA,KAAK,SAAL,yBAAAA,KAAK,CAAEC,QAAP,0DAAiBC,MAAjB,GAA2B,IAA/B,CAAqC,CACjC,GAAGF,KAAK,CAACC,QAAN,CAAeC,MAAf,EAAyB,GAA5B,CAAiC,CAC7BN,WAAW,CAAC,qBAAuBF,SAAxB,CAAX,CACH,CAFD,IAGK,CACDE,WAAW,CAAC,qBAAuBF,SAAxB,CAAX,CACH,CAEJ,CAEJ,CAXD,EAYH,CAbQ,CAaP,CAACG,GAAD,CAAMD,WAAN,CAAmBF,SAAnB,CAbO,CAAT,CAeA,mBACI,4CACI,oBAAC,gBAAD,EACI,QAAQ,CAAI,KADhB,CAEI,GAAG,CAAIC,QAAQ,EAAI,IAAZ,CAAmBE,GAAnB,CAAyB,IAFpC,CAGI,gBAAgB,CAAI,KAHxB,EADJ,CAMKF,QAAQ,eACL,oBAAC,KAAD,EAAO,QAAQ,CAAC,SAAhB,EACKA,QADL,CAPR,CADJ,CAcD,CAED,cAAeP,CAAAA,OAAO,CACpBE,YADoB,CAEpBH,UAFoB,CAAP,CAGfM,WAHe,CAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport ReactAudioPlayer from 'react-h5-audio-player';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport axios from 'axios';\nimport withUserAuth from 'context/withUserAuth';\nimport 'react-h5-audio-player/lib/styles.css';\nimport Alert from '@material-ui/lab/Alert';\n\ntype Props = {\n    audioName: string,\n    headerPrefix: string,\n};\n\nconst serverPrefix = \"/api/researcher/audio?name=\"\n\n\nfunction AudioPlayer({audioName}:Props): React.Component {\n\n    const [reqError, setReqError] = useState(null)\n\n    const url = serverPrefix + audioName\n\n    useEffect(() => {\n        axios.get(url).catch(error => {\n            if (error?.response?.status != null) {\n                if(error.response.status == 404) {\n                    setReqError(\"Can't find audio: \" + audioName)\n                }\n                else {\n                    setReqError(\"Can't play audio: \" + audioName)\n                }\n\n            }\n            \n        })\n    },[url, setReqError, audioName])\n\n    return (\n        <div>\n            <ReactAudioPlayer\n                autoPlay = {false}\n                src = {reqError == null ? url : null}\n                showJumpControls = {false}\n            /> \n            {reqError && \n                <Alert severity=\"warning\">\n                    {reqError}\n                </Alert>}\n        </div>\n    );\n\n  }\n  \n  export default compose(\n    withUserAuth,\n    withRouter,\n)(AudioPlayer);"]},"metadata":{},"sourceType":"module"}