{"ast":null,"code":"import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport { tau } from \"./math.js\";\nexport default function () {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    } // Optionally sort the arcs by previously-computed values or by data.\n\n\n    if (sortValues != null) index.sort(function (i, j) {\n      return sortValues(arcs[i], arcs[j]);\n    });else if (sort != null) index.sort(function (i, j) {\n      return sort(data[i], data[j]);\n    }); // Compute the arcs! They are stored in the original data's order.\n\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function (_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function (_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}","map":{"version":3,"sources":["/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/d3-shape/src/pie.js"],"names":["constant","descending","identity","tau","value","sortValues","sort","startAngle","endAngle","padAngle","pie","data","i","n","length","j","k","sum","index","Array","arcs","a0","apply","arguments","da","Math","min","max","a1","p","abs","pa","v","_"],"mappings":"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","sourcesContent":["import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n"]},"metadata":{},"sourceType":"module"}