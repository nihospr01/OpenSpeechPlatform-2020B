{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport raf from 'raf';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from './KeyCode';\nimport TabPane from './TabPane';\nimport { getDataAttr } from './utils';\nimport Sentinel, { SentinelProvider } from './Sentinel';\n\nfunction noop() {}\n\nfunction getDefaultActiveKey(props) {\n  var activeKey = void 0;\n  React.Children.forEach(props.children, function (child) {\n    if (child && !activeKey && !child.props.disabled) {\n      activeKey = child.key;\n    }\n  });\n  return activeKey;\n}\n\nfunction activeKeyIsValid(props, key) {\n  var keys = React.Children.map(props.children, function (child) {\n    return child && child.key;\n  });\n  return keys.indexOf(key) >= 0;\n}\n\nvar Tabs = function (_React$Component) {\n  _inherits(Tabs, _React$Component);\n\n  function Tabs(props) {\n    _classCallCheck(this, Tabs);\n\n    var _this = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var activeKey = void 0;\n\n    if ('activeKey' in props) {\n      activeKey = props.activeKey;\n    } else if ('defaultActiveKey' in props) {\n      activeKey = props.defaultActiveKey;\n    } else {\n      activeKey = getDefaultActiveKey(props);\n    }\n\n    _this.state = {\n      activeKey: activeKey\n    };\n    return _this;\n  }\n\n  _createClass(Tabs, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroy = true;\n      raf.cancel(this.sentinelId);\n    } // Sentinel for tab index\n\n  }, {\n    key: 'updateSentinelContext',\n    value: function updateSentinelContext() {\n      var _this2 = this;\n\n      if (this.destroy) return;\n      raf.cancel(this.sentinelId);\n      this.sentinelId = raf(function () {\n        if (_this2.destroy) return;\n\n        _this2.forceUpdate();\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var props = this.props;\n\n      var prefixCls = props.prefixCls,\n          navWrapper = props.navWrapper,\n          tabBarPosition = props.tabBarPosition,\n          className = props.className,\n          renderTabContent = props.renderTabContent,\n          renderTabBar = props.renderTabBar,\n          destroyInactiveTabPane = props.destroyInactiveTabPane,\n          direction = props.direction,\n          restProps = _objectWithoutProperties(props, ['prefixCls', 'navWrapper', 'tabBarPosition', 'className', 'renderTabContent', 'renderTabBar', 'destroyInactiveTabPane', 'direction']);\n\n      var cls = classnames((_classnames = {}, _defineProperty(_classnames, prefixCls, 1), _defineProperty(_classnames, prefixCls + '-' + tabBarPosition, 1), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, prefixCls + '-rtl', direction === 'rtl'), _classnames));\n      this.tabBar = renderTabBar();\n      var tabBar = React.cloneElement(this.tabBar, {\n        prefixCls: prefixCls,\n        navWrapper: navWrapper,\n        key: 'tabBar',\n        onKeyDown: this.onNavKeyDown,\n        tabBarPosition: tabBarPosition,\n        onTabClick: this.onTabClick,\n        panels: props.children,\n        activeKey: this.state.activeKey,\n        direction: this.props.direction\n      });\n      var tabContent = React.cloneElement(renderTabContent(), {\n        prefixCls: prefixCls,\n        tabBarPosition: tabBarPosition,\n        activeKey: this.state.activeKey,\n        destroyInactiveTabPane: destroyInactiveTabPane,\n        children: props.children,\n        onChange: this.setActiveKey,\n        key: 'tabContent',\n        direction: this.props.direction\n      });\n      var sentinelStart = React.createElement(Sentinel, {\n        key: 'sentinelStart',\n        setRef: this.setSentinelStart,\n        nextElement: this.panelSentinelStart\n      });\n      var sentinelEnd = React.createElement(Sentinel, {\n        key: 'sentinelEnd',\n        setRef: this.setSentinelEnd,\n        prevElement: this.panelSentinelEnd\n      });\n      var contents = [];\n\n      if (tabBarPosition === 'bottom') {\n        contents.push(sentinelStart, tabContent, sentinelEnd, tabBar);\n      } else {\n        contents.push(tabBar, sentinelStart, tabContent, sentinelEnd);\n      }\n\n      return React.createElement(SentinelProvider, {\n        value: {\n          sentinelStart: this.sentinelStart,\n          sentinelEnd: this.sentinelEnd,\n          setPanelSentinelStart: this.setPanelSentinelStart,\n          setPanelSentinelEnd: this.setPanelSentinelEnd\n        }\n      }, React.createElement('div', _extends({\n        className: cls,\n        style: props.style\n      }, getDataAttr(restProps), {\n        onScroll: this.onScroll\n      }), contents));\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      var newState = {};\n\n      if ('activeKey' in props) {\n        newState.activeKey = props.activeKey;\n      } else if (!activeKeyIsValid(props, state.activeKey)) {\n        newState.activeKey = getDefaultActiveKey(props);\n      }\n\n      if (Object.keys(newState).length > 0) {\n        return newState;\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tabs;\n}(React.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onTabClick = function (activeKey, e) {\n    if (_this3.tabBar.props.onTabClick) {\n      _this3.tabBar.props.onTabClick(activeKey, e);\n    }\n\n    _this3.setActiveKey(activeKey);\n  };\n\n  this.onNavKeyDown = function (e) {\n    var eventKeyCode = e.keyCode;\n\n    if (eventKeyCode === KeyCode.RIGHT || eventKeyCode === KeyCode.DOWN) {\n      e.preventDefault();\n\n      var nextKey = _this3.getNextActiveKey(true);\n\n      _this3.onTabClick(nextKey);\n    } else if (eventKeyCode === KeyCode.LEFT || eventKeyCode === KeyCode.UP) {\n      e.preventDefault();\n\n      var previousKey = _this3.getNextActiveKey(false);\n\n      _this3.onTabClick(previousKey);\n    }\n  };\n\n  this.onScroll = function (_ref) {\n    var target = _ref.target,\n        currentTarget = _ref.currentTarget;\n\n    if (target === currentTarget && target.scrollLeft > 0) {\n      target.scrollLeft = 0;\n    }\n  };\n\n  this.setSentinelStart = function (node) {\n    _this3.sentinelStart = node;\n  };\n\n  this.setSentinelEnd = function (node) {\n    _this3.sentinelEnd = node;\n  };\n\n  this.setPanelSentinelStart = function (node) {\n    if (node !== _this3.panelSentinelStart) {\n      _this3.updateSentinelContext();\n    }\n\n    _this3.panelSentinelStart = node;\n  };\n\n  this.setPanelSentinelEnd = function (node) {\n    if (node !== _this3.panelSentinelEnd) {\n      _this3.updateSentinelContext();\n    }\n\n    _this3.panelSentinelEnd = node;\n  };\n\n  this.setActiveKey = function (activeKey) {\n    if (_this3.state.activeKey !== activeKey) {\n      if (!('activeKey' in _this3.props)) {\n        _this3.setState({\n          activeKey: activeKey\n        });\n      }\n\n      _this3.props.onChange(activeKey);\n    }\n  };\n\n  this.getNextActiveKey = function (next) {\n    var activeKey = _this3.state.activeKey;\n    var children = [];\n    React.Children.forEach(_this3.props.children, function (c) {\n      if (c && !c.props.disabled) {\n        if (next) {\n          children.push(c);\n        } else {\n          children.unshift(c);\n        }\n      }\n    });\n    var length = children.length;\n    var ret = length && children[0].key;\n    children.forEach(function (child, i) {\n      if (child.key === activeKey) {\n        if (i === length - 1) {\n          ret = children[0].key;\n        } else {\n          ret = children[i + 1].key;\n        }\n      }\n    });\n    return ret;\n  };\n};\n\nTabs.propTypes = {\n  destroyInactiveTabPane: PropTypes.bool,\n  renderTabBar: PropTypes.func.isRequired,\n  renderTabContent: PropTypes.func.isRequired,\n  navWrapper: PropTypes.func,\n  onChange: PropTypes.func,\n  children: PropTypes.node,\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  tabBarPosition: PropTypes.string,\n  style: PropTypes.object,\n  activeKey: PropTypes.string,\n  defaultActiveKey: PropTypes.string,\n  direction: PropTypes.string\n};\nTabs.defaultProps = {\n  prefixCls: 'rc-tabs',\n  destroyInactiveTabPane: false,\n  onChange: noop,\n  navWrapper: function navWrapper(arg) {\n    return arg;\n  },\n  tabBarPosition: 'top',\n  children: null,\n  style: {},\n  direction: 'ltr'\n};\nTabs.TabPane = TabPane;\npolyfill(Tabs);\nexport default Tabs;","map":{"version":3,"sources":["/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/rc-tabs/es/Tabs.js"],"names":["_extends","_defineProperty","_objectWithoutProperties","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","classnames","raf","polyfill","KeyCode","TabPane","getDataAttr","Sentinel","SentinelProvider","noop","getDefaultActiveKey","props","activeKey","Children","forEach","children","child","disabled","key","activeKeyIsValid","keys","map","indexOf","Tabs","_React$Component","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","defaultActiveKey","state","value","componentWillUnmount","destroy","cancel","sentinelId","updateSentinelContext","_this2","forceUpdate","render","_classnames","prefixCls","navWrapper","tabBarPosition","className","renderTabContent","renderTabBar","destroyInactiveTabPane","direction","restProps","cls","tabBar","cloneElement","onKeyDown","onNavKeyDown","onTabClick","panels","tabContent","onChange","setActiveKey","sentinelStart","createElement","setRef","setSentinelStart","nextElement","panelSentinelStart","sentinelEnd","setSentinelEnd","prevElement","panelSentinelEnd","contents","push","setPanelSentinelStart","setPanelSentinelEnd","style","onScroll","getDerivedStateFromProps","newState","length","Component","_this3","e","eventKeyCode","keyCode","RIGHT","DOWN","preventDefault","nextKey","getNextActiveKey","LEFT","UP","previousKey","_ref","target","currentTarget","scrollLeft","node","setState","next","c","unshift","ret","i","propTypes","bool","func","isRequired","string","object","defaultProps","arg"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport raf from 'raf';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from './KeyCode';\nimport TabPane from './TabPane';\nimport { getDataAttr } from './utils';\nimport Sentinel, { SentinelProvider } from './Sentinel';\n\nfunction noop() {}\n\nfunction getDefaultActiveKey(props) {\n  var activeKey = void 0;\n  React.Children.forEach(props.children, function (child) {\n    if (child && !activeKey && !child.props.disabled) {\n      activeKey = child.key;\n    }\n  });\n  return activeKey;\n}\n\nfunction activeKeyIsValid(props, key) {\n  var keys = React.Children.map(props.children, function (child) {\n    return child && child.key;\n  });\n  return keys.indexOf(key) >= 0;\n}\n\nvar Tabs = function (_React$Component) {\n  _inherits(Tabs, _React$Component);\n\n  function Tabs(props) {\n    _classCallCheck(this, Tabs);\n\n    var _this = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var activeKey = void 0;\n    if ('activeKey' in props) {\n      activeKey = props.activeKey;\n    } else if ('defaultActiveKey' in props) {\n      activeKey = props.defaultActiveKey;\n    } else {\n      activeKey = getDefaultActiveKey(props);\n    }\n\n    _this.state = {\n      activeKey: activeKey\n    };\n    return _this;\n  }\n\n  _createClass(Tabs, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroy = true;\n      raf.cancel(this.sentinelId);\n    }\n\n    // Sentinel for tab index\n\n  }, {\n    key: 'updateSentinelContext',\n    value: function updateSentinelContext() {\n      var _this2 = this;\n\n      if (this.destroy) return;\n\n      raf.cancel(this.sentinelId);\n      this.sentinelId = raf(function () {\n        if (_this2.destroy) return;\n        _this2.forceUpdate();\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var props = this.props;\n\n      var prefixCls = props.prefixCls,\n          navWrapper = props.navWrapper,\n          tabBarPosition = props.tabBarPosition,\n          className = props.className,\n          renderTabContent = props.renderTabContent,\n          renderTabBar = props.renderTabBar,\n          destroyInactiveTabPane = props.destroyInactiveTabPane,\n          direction = props.direction,\n          restProps = _objectWithoutProperties(props, ['prefixCls', 'navWrapper', 'tabBarPosition', 'className', 'renderTabContent', 'renderTabBar', 'destroyInactiveTabPane', 'direction']);\n\n      var cls = classnames((_classnames = {}, _defineProperty(_classnames, prefixCls, 1), _defineProperty(_classnames, prefixCls + '-' + tabBarPosition, 1), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, prefixCls + '-rtl', direction === 'rtl'), _classnames));\n\n      this.tabBar = renderTabBar();\n\n      var tabBar = React.cloneElement(this.tabBar, {\n        prefixCls: prefixCls,\n        navWrapper: navWrapper,\n        key: 'tabBar',\n        onKeyDown: this.onNavKeyDown,\n        tabBarPosition: tabBarPosition,\n        onTabClick: this.onTabClick,\n        panels: props.children,\n        activeKey: this.state.activeKey,\n        direction: this.props.direction\n      });\n\n      var tabContent = React.cloneElement(renderTabContent(), {\n        prefixCls: prefixCls,\n        tabBarPosition: tabBarPosition,\n        activeKey: this.state.activeKey,\n        destroyInactiveTabPane: destroyInactiveTabPane,\n        children: props.children,\n        onChange: this.setActiveKey,\n        key: 'tabContent',\n        direction: this.props.direction\n      });\n\n      var sentinelStart = React.createElement(Sentinel, {\n        key: 'sentinelStart',\n        setRef: this.setSentinelStart,\n        nextElement: this.panelSentinelStart\n      });\n      var sentinelEnd = React.createElement(Sentinel, {\n        key: 'sentinelEnd',\n        setRef: this.setSentinelEnd,\n        prevElement: this.panelSentinelEnd\n      });\n\n      var contents = [];\n      if (tabBarPosition === 'bottom') {\n        contents.push(sentinelStart, tabContent, sentinelEnd, tabBar);\n      } else {\n        contents.push(tabBar, sentinelStart, tabContent, sentinelEnd);\n      }\n\n      return React.createElement(\n        SentinelProvider,\n        {\n          value: {\n            sentinelStart: this.sentinelStart,\n            sentinelEnd: this.sentinelEnd,\n            setPanelSentinelStart: this.setPanelSentinelStart,\n            setPanelSentinelEnd: this.setPanelSentinelEnd\n          }\n        },\n        React.createElement(\n          'div',\n          _extends({\n            className: cls,\n            style: props.style\n          }, getDataAttr(restProps), {\n            onScroll: this.onScroll\n          }),\n          contents\n        )\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      var newState = {};\n      if ('activeKey' in props) {\n        newState.activeKey = props.activeKey;\n      } else if (!activeKeyIsValid(props, state.activeKey)) {\n        newState.activeKey = getDefaultActiveKey(props);\n      }\n      if (Object.keys(newState).length > 0) {\n        return newState;\n      }\n      return null;\n    }\n  }]);\n\n  return Tabs;\n}(React.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onTabClick = function (activeKey, e) {\n    if (_this3.tabBar.props.onTabClick) {\n      _this3.tabBar.props.onTabClick(activeKey, e);\n    }\n    _this3.setActiveKey(activeKey);\n  };\n\n  this.onNavKeyDown = function (e) {\n    var eventKeyCode = e.keyCode;\n    if (eventKeyCode === KeyCode.RIGHT || eventKeyCode === KeyCode.DOWN) {\n      e.preventDefault();\n      var nextKey = _this3.getNextActiveKey(true);\n      _this3.onTabClick(nextKey);\n    } else if (eventKeyCode === KeyCode.LEFT || eventKeyCode === KeyCode.UP) {\n      e.preventDefault();\n      var previousKey = _this3.getNextActiveKey(false);\n      _this3.onTabClick(previousKey);\n    }\n  };\n\n  this.onScroll = function (_ref) {\n    var target = _ref.target,\n        currentTarget = _ref.currentTarget;\n\n    if (target === currentTarget && target.scrollLeft > 0) {\n      target.scrollLeft = 0;\n    }\n  };\n\n  this.setSentinelStart = function (node) {\n    _this3.sentinelStart = node;\n  };\n\n  this.setSentinelEnd = function (node) {\n    _this3.sentinelEnd = node;\n  };\n\n  this.setPanelSentinelStart = function (node) {\n    if (node !== _this3.panelSentinelStart) {\n      _this3.updateSentinelContext();\n    }\n    _this3.panelSentinelStart = node;\n  };\n\n  this.setPanelSentinelEnd = function (node) {\n    if (node !== _this3.panelSentinelEnd) {\n      _this3.updateSentinelContext();\n    }\n    _this3.panelSentinelEnd = node;\n  };\n\n  this.setActiveKey = function (activeKey) {\n    if (_this3.state.activeKey !== activeKey) {\n      if (!('activeKey' in _this3.props)) {\n        _this3.setState({\n          activeKey: activeKey\n        });\n      }\n      _this3.props.onChange(activeKey);\n    }\n  };\n\n  this.getNextActiveKey = function (next) {\n    var activeKey = _this3.state.activeKey;\n    var children = [];\n    React.Children.forEach(_this3.props.children, function (c) {\n      if (c && !c.props.disabled) {\n        if (next) {\n          children.push(c);\n        } else {\n          children.unshift(c);\n        }\n      }\n    });\n    var length = children.length;\n    var ret = length && children[0].key;\n    children.forEach(function (child, i) {\n      if (child.key === activeKey) {\n        if (i === length - 1) {\n          ret = children[0].key;\n        } else {\n          ret = children[i + 1].key;\n        }\n      }\n    });\n    return ret;\n  };\n};\n\nTabs.propTypes = {\n  destroyInactiveTabPane: PropTypes.bool,\n  renderTabBar: PropTypes.func.isRequired,\n  renderTabContent: PropTypes.func.isRequired,\n  navWrapper: PropTypes.func,\n  onChange: PropTypes.func,\n  children: PropTypes.node,\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  tabBarPosition: PropTypes.string,\n  style: PropTypes.object,\n  activeKey: PropTypes.string,\n  defaultActiveKey: PropTypes.string,\n  direction: PropTypes.string\n};\n\nTabs.defaultProps = {\n  prefixCls: 'rc-tabs',\n  destroyInactiveTabPane: false,\n  onChange: noop,\n  navWrapper: function navWrapper(arg) {\n    return arg;\n  },\n  tabBarPosition: 'top',\n  children: null,\n  style: {},\n  direction: 'ltr'\n};\n\nTabs.TabPane = TabPane;\n\npolyfill(Tabs);\n\nexport default Tabs;"]},"metadata":{},"sourceType":"module"}