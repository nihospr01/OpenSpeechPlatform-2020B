{"ast":null,"code":"import _regeneratorRuntime from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withStyles}from'@material-ui/styles';import Paper from'@material-ui/core/Paper';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import PlayCircleOutlineIcon from'@material-ui/icons/PlayCircleOutline';import IconButton from'@material-ui/core/IconButton';import{axios}from'utils/utils';import withUserAuth from'context/withUserAuth';import{Link,withRouter}from'react-router-dom';import{compose}from'recompose';import HelpIcon from\"@material-ui/icons/Help\";import Tooltip from\"@material-ui/core/Tooltip\";import Box from'@material-ui/core/Box';import useMediaQuery from'@material-ui/core/useMediaQuery';import{useTheme}from'@material-ui/core/styles';import MobileStepper from'@material-ui/core/MobileStepper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import InputLabel from'@material-ui/core/InputLabel';import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import Stepper from\"@material-ui/core/Stepper\";import Step from\"@material-ui/core/Step\";import StepLabel from\"@material-ui/core/StepLabel\";import StepContent from\"@material-ui/core/StepContent\";import VideoPlayer from'components/VideoPlayer';import AudioPlayer from'components/AudioPlayer';var styles=function styles(theme){return{root:{flexGrow:1},paper:{height:'90',width:'98%'},button:{width:'60%',height:70,fontSize:35,margin:5},restartButton:{width:'50%',fontSize:30,margin:15},grid:{marginLeft:10,fontSize:20},margin:{margin:10},extendedIcon:{marginRight:8},tooltip:{fontSize:20},buttonGroup:{width:100,height:100},iconHover:{float:'right','&:hover':{color:\"grey\"},alignItems:\"right\",color:\"inherit\"},progress:{width:'99%',height:40,flexGrow:1,alignContent:\"center\"},table:{width:'70%',justifyContent:\"center\",alignItems:\"center\"},formControl:{margin:theme.spacing(1),minWidth:120}};};var fourAFCDemo=/*#__PURE__*/function(_Component){_inherits(fourAFCDemo,_Component);var _super=_createSuper(fourAFCDemo);function fourAFCDemo(){var _this;_classCallCheck(this,fourAFCDemo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={completed:false,currentWord:'',audioConfig:[],//contains sets of audio files and answer choices\naudioPath:'',currentAudioFile:'',currentOptions:['','','',''],currentCount:0,logs:[],correctAnswers:[],chosenAnswers:[],open:false,subStep:0,correctChoices:0,delay:1000,//start delay at 1 second\nnumSets:4,randomOrder:true,stimulusFile:\"/BoothroydCCT.json\",step:0,playInBrowser:false,playVideo:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props$context,user,loginMode,parameterResponse,pathResponse,audioPath,response,audioConfig;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_this$props$context=_this.props.context,user=_this$props$context.user,loginMode=_this$props$context.loginMode;if(!(loginMode!=='researcher')){_context.next=7;break;}_context.next=5;return axios.get(\"/api/listener/getParameters/\".concat(user));case 5:parameterResponse=_context.sent;_this.apply(parameterResponse.data);case 7:_context.next=9;return axios.get(\"/api/researcher/audioPath\");case 9:pathResponse=_context.sent;audioPath=pathResponse.data;_context.next=13;return _this.setState({audioPath:audioPath});case 13:_context.next=15;return axios.post(\"/api/researcher/jsonFile\",{data:_this.state.audioPath.concat(_this.state.stimulusFile)});case 15:response=_context.sent;audioConfig=response.data[\"words\"];_context.next=19;return _this.setState({audioConfig:audioConfig});case 19:_context.next=25;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](0);console.log(_context.t0);alert(_context.t0.response.data);case 25:case\"end\":return _context.stop();}}},_callee,null,[[0,21]]);}));_this.reset=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props$context2,user,loginMode,parameterResponse,pathResponse,audioPath,response,audioConfig;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.setState({completed:false,currentWord:'',audioConfig:[],//contains sets of audio files and answer choices\naudioPath:'',currentAudioFile:'',currentOptions:['','','',''],currentCount:0,logs:[],correctAnswers:[],chosenAnswers:[],open:false,subStep:0,correctChoices:0,delay:1000,//start delay at 1 second\nnumSets:4,randomOrder:true,stimulusFile:\"/BoothroydCCT.json\",step:0,playInBrowser:false,playVideo:false});case 2:_context2.prev=2;_this$props$context2=_this.props.context,user=_this$props$context2.user,loginMode=_this$props$context2.loginMode;if(!(loginMode!=='researcher')){_context2.next=9;break;}_context2.next=7;return axios.get(\"/api/listener/getParameters/\".concat(user));case 7:parameterResponse=_context2.sent;_this.apply(parameterResponse.data);case 9:_context2.next=11;return axios.get(\"/api/researcher/audioPath\");case 11:pathResponse=_context2.sent;audioPath=pathResponse.data;_context2.next=15;return _this.setState({audioPath:audioPath});case 15:_context2.next=17;return axios.post(\"/api/researcher/jsonFile\",{data:_this.state.audioPath.concat(_this.state.stimulusFile)});case 17:response=_context2.sent;audioConfig=response.data[\"words\"];_context2.next=21;return _this.setState({audioConfig:audioConfig});case 21:_context2.next=27;break;case 23:_context2.prev=23;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);alert(_context2.t0.response.data);case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[2,23]]);}));_this.ResponsiveDialog=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var theme,fullScreen;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0://const [open, setOpen] = React.useState(false);\ntheme=useTheme();fullScreen=useMediaQuery(theme.breakpoints.down('sm'));case 2:case\"end\":return _context3.stop();}}},_callee3);}));_this.handleClickOpen=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState({open:true});case 1:case\"end\":return _context4.stop();}}},_callee4);}));_this.handleClickClose=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this.setState({open:false});case 1:case\"end\":return _context5.stop();}}},_callee5);}));_this.handleQuestionOrderChange=function(event){_this.setState({randomOrder:event.target.value});};_this.handleQuestionOrderChange=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var randomOrder;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:randomOrder=_this.state.randomOrder;_context6.next=3;return _this.setState({randomOrder:!randomOrder});case 3:case\"end\":return _context6.stop();}}},_callee6);}));_this.handleAudioOutputChange=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(event){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this.setState({playInBrowser:event.target.value});case 1:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x){return _ref7.apply(this,arguments);};}();_this.handleAudioOutputChange=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var playInBrowser;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:playInBrowser=_this.state.playInBrowser;_context8.next=3;return _this.setState({playInBrowser:!playInBrowser});case 3:case\"end\":return _context8.stop();}}},_callee8);}));_this.handleDisplayVideoChange=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(event){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this.setState({playVideo:event.target.value});case 1:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x2){return _ref9.apply(this,arguments);};}();_this.handleDisplayVideoChange=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var playVideo;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:playVideo=_this.state.playVideo;_context10.next=3;return _this.setState({playVideo:!playVideo});case 3:case\"end\":return _context10.stop();}}},_callee10);}));_this.apply=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(parameters){var response,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:if(!(parameters==='')){_context11.next=2;break;}return _context11.abrupt(\"return\");case 2:_context11.prev=2;_context11.next=5;return axios.post(\"/api/param/setparam\",{method:'set',data:parameters});case 5:response=_context11.sent;data=response.data;console.log(data);_context11.next=13;break;case 10:_context11.prev=10;_context11.t0=_context11[\"catch\"](2);alert(_context11.t0.response.data);case 13:case\"end\":return _context11.stop();}}},_callee11,null,[[2,10]]);}));return function(_x3){return _ref11.apply(this,arguments);};}();_this.handlePlay=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var _this$state,audioPath,currentAudioFile,playInBrowser,dataInput,response,data;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_this$state=_this.state,audioPath=_this$state.audioPath,currentAudioFile=_this$state.currentAudioFile,playInBrowser=_this$state.playInBrowser;if(!playInBrowser){_context12.next=4;break;}_context12.next=16;break;case 4:dataInput={left:{audio_filename:audioPath.concat(currentAudioFile),audio_reset:1,audio_repeat:0,audio_play:1,alpha:1.0},right:{audio_filename:audioPath.concat(currentAudioFile),audio_reset:1,audio_repeat:0,audio_play:1,alpha:1.0}};_context12.prev=5;_context12.next=8;return axios.post(\"/api/param/setparam\",{method:'set',data:dataInput});case 8:response=_context12.sent;data=response.data;console.log(data);_context12.next=16;break;case 13:_context12.prev=13;_context12.t0=_context12[\"catch\"](5);alert(_context12.t0.response.data);case 16:case\"end\":return _context12.stop();}}},_callee12,null,[[5,13]]);}));_this.sleep=function(ms){return new Promise(function(resolve){setTimeout(function(){resolve();},ms);});};_this.fetchWord=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){var _this$state2,audioConfig,delay,randomOrder,index,currentOption;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_this$state2=_this.state,audioConfig=_this$state2.audioConfig,delay=_this$state2.delay,randomOrder=_this$state2.randomOrder;console.log(audioConfig);index=0;if(randomOrder){//if the user wants a random order, find a random index\nindex=Math.floor(Math.random()*audioConfig.length);//picks random index (random audiofile)\n}currentOption=audioConfig[index];audioConfig.splice(index,1);_context13.next=8;return _this.setState({audioConfig:audioConfig,currentWord:currentOption[\"answer\"],//holds correct answer for current audiofile\ncurrentOptions:[//holds answer choices for current audiofile\ncurrentOption[\"option_A\"],currentOption[\"option_B\"],currentOption[\"option_C\"],currentOption[\"option_D\"]],currentCount:_this.state.currentCount+1,//number of times word has been fetched\ncurrentAudioFile:currentOption[\"filename\"]//holds current audiofile chosen\n});case 8://play the next word after a delay when we go to the next set of choices\nsetTimeout(function(){return _this.handlePlay();},delay);case 9:case\"end\":return _context13.stop();}}},_callee13);}));_this.checkIfCorrectWord=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(option){var _this$state3,currentWord,correctChoices;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_this$state3=_this.state,currentWord=_this$state3.currentWord,correctChoices=_this$state3.correctChoices;if(!(option==currentWord)){_context14.next=5;break;}_context14.next=4;return _this.setState(function(prevState){return{correctChoices:prevState.correctChoices+1};});case 4:return _context14.abrupt(\"return\",\"white\");case 5:return _context14.abrupt(\"return\",\"yellow\");case 6:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x4){return _ref14.apply(this,arguments);};}();_this.handleNext=function(){_this.setState(function(prevState){return{subStep:prevState.subStep+1};});};_this.handleNumQuestionChange=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(event){return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_this.setState({numSets:event.target.value});case 1:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x5){return _ref15.apply(this,arguments);};}();_this.handleStimuliChange=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(event){var response,audioConfig;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return _this.setState({stimulusFile:event.target.value});case 2:_context16.next=4;return axios.post(\"/api/researcher/jsonFile\",{data:_this.state.audioPath.concat(_this.state.stimulusFile)});case 4:response=_context16.sent;audioConfig=response.data[\"words\"];_context16.next=8;return _this.setState({audioConfig:audioConfig});case 8:case\"end\":return _context16.stop();}}},_callee16);}));return function(_x6){return _ref16.apply(this,arguments);};}();_this.handleContinue=/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(option){var _this$state4,currentCount,currentOptions,currentWord,logs,numSets,correctAnswers,chosenAnswers,result;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_this$state4=_this.state,currentCount=_this$state4.currentCount,currentOptions=_this$state4.currentOptions,currentWord=_this$state4.currentWord,logs=_this$state4.logs,numSets=_this$state4.numSets,correctAnswers=_this$state4.correctAnswers,chosenAnswers=_this$state4.chosenAnswers;_context17.next=3;return _this.checkIfCorrectWord(option);case 3:result=_context17.sent;//called to check if user selected the correct word, returns yellow if incorrect answer\nconsole.log(logs);console.log(correctAnswers);console.log(chosenAnswers);logs.push({//adds info from current \"run\" to log: user's answer, answer choices, and correct answer\ncurrentOptions:currentOptions,currentWord:currentWord,option:option,result:result});correctAnswers.push({currentWord:currentWord});chosenAnswers.push({option:option});_this.setState({logs:logs,correctAnswers:correctAnswers,chosenAnswers:chosenAnswers});if(!(currentCount>=numSets)){_context17.next=16;break;}_context17.next=14;return _this.setState({completed:true});case 14:_context17.next=17;break;case 16:_this.fetchWord();//if not done with iterations, proceed to next word\ncase 17:_this.handleNext();//increment the progress bar\ncase 18:case\"end\":return _context17.stop();}}},_callee17);}));return function(_x7){return _ref17.apply(this,arguments);};}();_this.getData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){var respnse,data;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.prev=0;_context18.next=3;return axios.post(\"/api/param/testPython\");case 3:respnse=_context18.sent;data=respnse.data;console.log(data);_context18.next=11;break;case 8:_context18.prev=8;_context18.t0=_context18[\"catch\"](0);alert(_context18.t0.response.data);case 11:case\"end\":return _context18.stop();}}},_callee18,null,[[0,8]]);}));_this.getSettingOption=function(){var classes=_this.props.classes;var _this$state5=_this.state,delay=_this$state5.delay,numSets=_this$state5.numSets,randomOrder=_this$state5.randomOrder,stimulusFile=_this$state5.stimulusFile,playInBrowser=_this$state5.playInBrowser,playVideo=_this$state5.playVideo;return/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Box,{mt:2,lineHeight:\"normal\",fontSize:18},\"Stimuli Selection:\"),/*#__PURE__*/React.createElement(Box,{mt:1,lineHeight:\"normal\",fontSize:15},\"Select the stimuli you would like to use for the test (default BoothroydCCT).\"),/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:stimulusFile,onChange:_this.handleStimuliChange},/*#__PURE__*/React.createElement(MenuItem,{value:\"/BoothroydCCT.json\"},\"Boothroyd CCT\")))),/*#__PURE__*/React.createElement(Box,{mt:2,lineHeight:\"normal\",fontSize:18},\"Number of Test Questions:\"),/*#__PURE__*/React.createElement(Box,{mt:1,lineHeight:\"normal\",fontSize:15},\"Select the number of questions for the test (default 4).\"),/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:numSets,onChange:_this.handleNumQuestionChange},/*#__PURE__*/React.createElement(MenuItem,{value:4},\"4\"),/*#__PURE__*/React.createElement(MenuItem,{value:8},\"8\"),/*#__PURE__*/React.createElement(MenuItem,{value:16},\"16\"),/*#__PURE__*/React.createElement(MenuItem,{value:32},\"32\")))),/*#__PURE__*/React.createElement(Box,{mt:2,lineHeight:\"normal\",fontSize:18},\"Order of Questions:\"),/*#__PURE__*/React.createElement(Box,{mt:1,mb:1,lineHeight:\"normal\",fontSize:15},\"Choose between random or sequential question order (default random).\"),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\"},/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":\"qorder\",name:\"qorder\",value:randomOrder,onChange:_this.handleQuestionOrderChange},/*#__PURE__*/React.createElement(FormControlLabel,{value:true,control:/*#__PURE__*/React.createElement(Radio,null),label:\"Random\"}),/*#__PURE__*/React.createElement(FormControlLabel,{value:false,control:/*#__PURE__*/React.createElement(Radio,null),label:\"Sequential\"})))),/*#__PURE__*/React.createElement(Box,{mt:2,lineHeight:\"normal\",fontSize:18},\"Audio Output:\"),/*#__PURE__*/React.createElement(Box,{mt:1,mb:1,lineHeight:\"normal\",fontSize:15},\"Choose between playing audio/ video through the browser or through the device (default device).\"),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(FormControl,{component:\"fieldset\"},/*#__PURE__*/React.createElement(RadioGroup,{\"aria-label\":\"qorder\",name:\"qorder\",value:playInBrowser,onChange:_this.handleAudioOutputChange},/*#__PURE__*/React.createElement(FormControlLabel,{value:false,control:/*#__PURE__*/React.createElement(Radio,null),label:\"Device\"}),/*#__PURE__*/React.createElement(FormControlLabel,{value:true,control:/*#__PURE__*/React.createElement(Radio,null),label:\"Browser\"})))));};_this.get4AFCTest=function(){var classes=_this.props.classes;var _this$state6=_this.state,completed=_this$state6.completed,currentOptions=_this$state6.currentOptions,subStep=_this$state6.subStep,correctChoices=_this$state6.correctChoices,delay=_this$state6.delay,numSets=_this$state6.numSets,playInBrowser=_this$state6.playInBrowser,currentAudioFile=_this$state6.currentAudioFile,playVideo=_this$state6.playVideo;return/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Grid,null,!completed?/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:classes.grid},\"Please click the word you heard:\",/*#__PURE__*/React.createElement(Tooltip,{title:/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:\"20px\"}},\" Click the play button to hear the audio, then choose the word that matches best to the audio\")},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"help\"},/*#__PURE__*/React.createElement(HelpIcon,null)))):/*#__PURE__*/React.createElement(Grid,null),/*#__PURE__*/React.createElement(MobileStepper,{variant:\"progress\",steps:numSets+1,position:\"static\",activeStep:subStep,className:classes.progress,nextButton:/*#__PURE__*/React.createElement(Button,{size:\"small\"}),backButton:/*#__PURE__*/React.createElement(Button,{size:\"small\"})})),/*#__PURE__*/React.createElement(Grid,null,!completed?/*#__PURE__*/React.createElement(Grid,null,playInBrowser?/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(AudioPlayer,{audioName:currentAudioFile}),playVideo?/*#__PURE__*/React.createElement(Grid,null):/*#__PURE__*/React.createElement(Grid,null)):/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",justify:\"space-around\",alignItems:\"center\"},/*#__PURE__*/React.createElement(IconButton,{variant:\"contained\",onClick:function onClick(){return setTimeout(function(){return _this.handlePlay();},delay);}//play audio with delay\n},/*#__PURE__*/React.createElement(PlayCircleOutlineIcon,{className:classes.buttonGroup}))),/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"column\",justify:\"flex-end\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Button,{className:classes.button,variant:\"outlined\",color:\"primary\",onClick:function onClick(){return _this.handleContinue(currentOptions[0]);}},currentOptions[0]),/*#__PURE__*/React.createElement(Button,{className:classes.button,variant:\"outlined\",color:\"primary\",onClick:function onClick(){return _this.handleContinue(currentOptions[1]);}},currentOptions[1]),/*#__PURE__*/React.createElement(Button,{className:classes.button,variant:\"outlined\",color:\"primary\",onClick:function onClick(){return _this.handleContinue(currentOptions[2]);}},currentOptions[2]),/*#__PURE__*/React.createElement(Button,{className:classes.button,variant:\"outlined\",color:\"primary\",onClick:function onClick(){return _this.handleContinue(currentOptions[3]);}},currentOptions[3]))):/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"column\",justify:\"flex-end\",alignItems:\"center\",className:classes.grid},/*#__PURE__*/React.createElement(\"p\",null,\"You are finished\"),/*#__PURE__*/React.createElement(\"p\",null,\"Word-Level Accuracy: \",(correctChoices*100/numSets).toFixed(2),\"%\"),/*#__PURE__*/React.createElement(TableContainer,{component:Paper,className:classes.table},/*#__PURE__*/React.createElement(Table/*className={classes.table}*/,{\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Answer Options\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Your Answer\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Correct Answer\"))),/*#__PURE__*/React.createElement(TableBody,null,_this.state.logs.map(function(log,index){return/*#__PURE__*/React.createElement(TableRow,{key:index},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\",style:{backgroundColor:log.result}},\"(A) \",log.currentOptions[0],\" \\xB7 (B) \",log.currentOptions[1],\" \\xB7 (C) \",log.currentOptions[2],\" \\xB7 (D) \",log.currentOptions[3]),/*#__PURE__*/React.createElement(TableCell,{align:\"center\",style:{backgroundColor:log.result}},log.option),/*#__PURE__*/React.createElement(TableCell,{align:\"center\",style:{backgroundColor:log.result}},log.currentWord));})))),/*#__PURE__*/React.createElement(Button,{className:classes.restartButton,variant:\"outlined\",onClick:function onClick(){return _this.reset();}},\"Click to Restart Test!\"))));};_this.getStepContent=function(index){switch(index){case 0:return _this.getSettingOption();case 1:return _this.get4AFCTest();default:return;}};_this.handleStepChange=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(change){return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return _this.setState(function(prevState){return{step:prevState.step+change};});case 2:if(_this.state.step===1){_this.fetchWord();}case 3:case\"end\":return _context19.stop();}}},_callee19);}));return function(_x8){return _ref19.apply(this,arguments);};}();return _this;}_createClass(fourAFCDemo,[{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;var step=this.state.step;return/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Stepper,{orientation:\"vertical\",activeStep:step},[\"Settings for 4AFC Test\",\"4AFC Test\"].map(function(label,index){return/*#__PURE__*/React.createElement(Step,{key:label},/*#__PURE__*/React.createElement(StepLabel,null,label),/*#__PURE__*/React.createElement(StepContent,null,_this2.getStepContent(index),/*#__PURE__*/React.createElement(\"div\",{className:classes.actionsContainer,style:{display:'flex',flexDirection:'row'}},step===1?/*#__PURE__*/React.createElement(Grid,null):/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",disabled:step===1&&_this2.state.maxSubstepReached<5,onClick:function onClick(){return _this2.handleStepChange(1);}},\"Next\"))));})));}}]);return fourAFCDemo;}(Component);export default compose(withUserAuth,withRouter,withStyles(styles))(fourAFCDemo);/* for audio repeat and audio delay, not currently possible/ needed\n\nhelper function for the drop down menu for delay time\nhandleDelayChange = async (event) => {\n    this.setState({\n        delay: event.target.value,\n    });\n};\n\n<Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n    Audio Delay:\n</Box>\n<Box mt={1} lineHeight=\"normal\" fontSize={15} >  \n    Select the delay before audio is played (deafult one second).\n</Box>\n<Grid>\n    <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-label\">Audio Delay</InputLabel>\n        <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={delay}\n            onChange={this.handleDelayChange}\n        >\n            <MenuItem value={0}><em>None</em></MenuItem>\n            <MenuItem value={1000}>One Second</MenuItem>\n            <MenuItem value={2000}>Two Seconds</MenuItem>\n            <MenuItem value={3000}>Three Seconds</MenuItem>\n        </Select>\n    </FormControl>\n</Grid>\n\n<Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n    Audio Repeat:\n</Box>\n<Box mt={1} mb={1} lineHeight=\"normal\" fontSize={15} >  \n    Choose between single play upon press and audio on loop (default single play).\n</Box>\n<Grid item>\n    <FormControl component=\"fieldset\">\n        <RadioGroup aria-label=\"audiorepeat\" name=\"audiorepeat\" value={audioRepeat} onChange={this.handleRepeatChange}>\n            <FormControlLabel value={true} control={<Radio />} label=\"Loop Audio\" />\n            <FormControlLabel value={false} control={<Radio />} label=\"Single Play Upon Press\" />\n        </RadioGroup>\n    </FormControl>\n</Grid>\n\nhandleRepeatChange = (event) => {\n    this.setState({\n        audioRepeat: event.target.value,\n    });\n};\n\nhandleRepeatChange = async () => {\n    const {\n        audioRepeat,\n    } = this.state;\n    await this.setState({ \n        audioRepeat: !audioRepeat,\n    });\n    this.handlePlay();\n}\n*/","map":{"version":3,"sources":["/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/src/pages/demo/FourAFCDemo.jsx"],"names":["React","Component","withStyles","Paper","Grid","Button","PlayCircleOutlineIcon","IconButton","axios","withUserAuth","Link","withRouter","compose","HelpIcon","Tooltip","Box","useMediaQuery","useTheme","MobileStepper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","MenuItem","FormControl","Select","InputLabel","Radio","RadioGroup","FormControlLabel","Stepper","Step","StepLabel","StepContent","VideoPlayer","AudioPlayer","styles","theme","root","flexGrow","paper","height","width","button","fontSize","margin","restartButton","grid","marginLeft","extendedIcon","marginRight","tooltip","buttonGroup","iconHover","float","color","alignItems","progress","alignContent","table","justifyContent","formControl","spacing","minWidth","fourAFCDemo","state","completed","currentWord","audioConfig","audioPath","currentAudioFile","currentOptions","currentCount","logs","correctAnswers","chosenAnswers","open","subStep","correctChoices","delay","numSets","randomOrder","stimulusFile","step","playInBrowser","playVideo","componentDidMount","props","context","user","loginMode","get","parameterResponse","apply","data","pathResponse","setState","post","concat","response","console","log","alert","reset","ResponsiveDialog","fullScreen","breakpoints","down","handleClickOpen","handleClickClose","handleQuestionOrderChange","event","target","value","handleAudioOutputChange","handleDisplayVideoChange","parameters","method","handlePlay","dataInput","left","audio_filename","audio_reset","audio_repeat","audio_play","alpha","right","sleep","ms","Promise","resolve","setTimeout","fetchWord","index","Math","floor","random","length","currentOption","splice","checkIfCorrectWord","option","prevState","handleNext","handleNumQuestionChange","handleStimuliChange","handleContinue","result","push","getData","respnse","getSettingOption","classes","get4AFCTest","toFixed","map","backgroundColor","getStepContent","handleStepChange","change","label","actionsContainer","display","flexDirection","maxSubstepReached"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport IconButton from '@material-ui/core/IconButton';\nimport { axios } from 'utils/utils';\nimport withUserAuth from 'context/withUserAuth';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Box from '@material-ui/core/Box';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport VideoPlayer from 'components/VideoPlayer';\nimport AudioPlayer from 'components/AudioPlayer';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        height: '90',\n        width: '98%',\n    },\n    button: {\n        width: '60%',\n        height: 70,\n        fontSize: 35,\n        margin: 5,\n    },\n    restartButton: {\n        width: '50%',\n        fontSize: 30,\n        margin: 15,\n    },\n    grid: {\n        marginLeft: 10,\n        fontSize: 20,\n    },\n    margin: {\n        margin: 10,\n    },\n    extendedIcon: {\n        marginRight: 8,\n    },\n    tooltip: {\n        fontSize: 20,\n    },\n    buttonGroup: {\n        width: 100,\n        height: 100,\n    },\n    iconHover: {\n        float: 'right',\n        '&:hover': {\n          color: \"grey\",\n        },\n        alignItems: \"right\",\n        color: \"inherit\",\n    },\n    progress: {\n        width: '99%',\n        height: 40,\n        flexGrow: 1,\n        alignContent: \"center\",\n    },\n    table: {\n        width: '70%',\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      },\n      formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n      },\n});\n\nclass fourAFCDemo extends Component {\n    state = {\n        completed: false,\n        currentWord: '',\n        audioConfig: [], //contains sets of audio files and answer choices\n        audioPath: '',\n        currentAudioFile: '',\n        currentOptions: ['', '', '', ''],\n        currentCount: 0,\n        logs: [],\n        correctAnswers: [],\n        chosenAnswers: [],\n        open: false,\n        subStep: 0,\n        correctChoices: 0,\n        delay: 1000, //start delay at 1 second\n        numSets: 4,\n        randomOrder: true,\n        stimulusFile: \"/BoothroydCCT.json\",\n        step:0,\n        playInBrowser: false,\n        playVideo: false,\n    };\n\n    componentDidMount = async () => {\n        try {\n            const { user, loginMode } = this.props.context;\n            if (loginMode !== 'researcher') {\n                const parameterResponse = await axios.get(`/api/listener/getParameters/${user}`);\n                this.apply(parameterResponse.data);\n            }\n            const pathResponse = await axios.get(\"/api/researcher/audioPath\");\n            const audioPath = pathResponse.data;\n            await this.setState({ audioPath });\n\n            //set the appropriate set of stimuli\n            const response = await axios.post(\"/api/researcher/jsonFile\", {data: this.state.audioPath.concat(this.state.stimulusFile)});\n            const audioConfig = response.data[\"words\"]\n            await this.setState({ audioConfig });\n        }\n        catch(error) {\n            console.log(error);\n            alert(error.response.data);\n        }\n    }\n\n    /*to reset the page */\n    reset = async () => {\n        await this.setState({\n            completed: false,\n            currentWord: '',\n            audioConfig: [], //contains sets of audio files and answer choices\n            audioPath: '',\n            currentAudioFile: '',\n            currentOptions: ['', '', '', ''],\n            currentCount: 0,\n            logs: [],\n            correctAnswers: [],\n            chosenAnswers: [],\n            open: false,\n            subStep: 0,\n            correctChoices: 0,\n            delay: 1000, //start delay at 1 second\n            numSets: 4,\n            randomOrder: true,\n            stimulusFile: \"/BoothroydCCT.json\",\n            step:0,\n            playInBrowser: false,\n            playVideo: false,\n        });\n        try {\n            const { user, loginMode } = this.props.context;\n            if (loginMode !== 'researcher') {\n                const parameterResponse = await axios.get(`/api/listener/getParameters/${user}`);\n                this.apply(parameterResponse.data);\n            }\n            const pathResponse = await axios.get(\"/api/researcher/audioPath\");\n            const audioPath = pathResponse.data;\n            await this.setState({ audioPath });\n\n            //set the appropriate set of stimuli\n            const response = await axios.post(\"/api/researcher/jsonFile\", {data: this.state.audioPath.concat(this.state.stimulusFile)});\n            const audioConfig = response.data[\"words\"]\n            await this.setState({ audioConfig });\n        }\n        catch(error) {\n            console.log(error);\n            alert(error.response.data);\n        }\n    }\n\n    /* for settings button (responsive dialog box)*/\n    ResponsiveDialog = async () => {\n        //const [open, setOpen] = React.useState(false);\n        const theme = useTheme();\n        const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n    }\n\n    /* when user clicks on the settings button*/\n    handleClickOpen = async () => {\n        this.setState({\n            open: true,\n        });\n    };\n\n    /* when user clicks \"exit settings\" settings button*/\n    handleClickClose = async () => {\n        this.setState({\n            open: false,\n        });\n    };\n\n    handleQuestionOrderChange = (event) => {\n        this.setState({\n            randomOrder: event.target.value,\n        });\n    };\n\n    handleQuestionOrderChange = async () => {\n        const {\n            randomOrder,\n        } = this.state;\n        await this.setState({ \n            randomOrder: !randomOrder,\n        });\n    }\n\n    /*helper function for the drop down menu for audio output */\n    handleAudioOutputChange = async (event) => {\n        this.setState({\n            playInBrowser: event.target.value,\n        });\n    };\n\n    handleAudioOutputChange = async () => {\n        const {\n            playInBrowser,\n        } = this.state;\n        await this.setState({ \n            playInBrowser: !playInBrowser,\n        });\n    }\n\n    /*helper function for the drop down menu for video display */\n    handleDisplayVideoChange = async (event) => {\n        this.setState({\n            playVideo: event.target.value,\n        });\n    };\n\n    handleDisplayVideoChange = async () => {\n        const {\n            playVideo,\n        } = this.state;\n        await this.setState({ \n            playVideo: !playVideo,\n        });\n    }\n\n    /*applies the current RTMHA parameters if applicable\n    the current RTMHA parameters (from getParameters) is passed as an argument*/\n    apply = async (parameters) => {\n        if (parameters === '') {\n            return;\n        }\n        try {\n            const response = await axios.post(\"/api/param/setparam\", {\n                method: 'set',\n                data: parameters,\n            });\n            const data = response.data;\n            console.log(data);\n        }\n        catch(error) {\n            alert(error.response.data);\n        }\n    }\n\n    /*when user clicks on the play button send audio path info to rtmha (setparam)*/\n    handlePlay = async () => {\n        const {\n            audioPath,\n            currentAudioFile,\n            playInBrowser,\n        } = this.state;\n\n        if (playInBrowser) {\n            \n        } else {\n            const dataInput ={\n                left: {\n                    audio_filename: audioPath.concat(currentAudioFile),\n                    audio_reset: 1,\n                    audio_repeat: 0,\n                    audio_play: 1,\n                    alpha: 1.0,\n                },\n                right: {\n                    audio_filename: audioPath.concat(currentAudioFile),\n                    audio_reset: 1,\n                    audio_repeat: 0,\n                    audio_play: 1,\n                    alpha: 1.0,\n                },\n            };\n            try {\n                const response = await axios.post(\"/api/param/setparam\", {\n                    method: 'set',\n                    data: dataInput,\n                });\n                const data = response.data;\n                console.log(data);\n            }\n            catch(error) {\n                alert(error.response.data);\n            }\n        }\n    }\n\n    /*sleep function that allows for a delay to happen before next event*/\n    sleep = ms => new Promise(resolve => {\n        setTimeout(\n            () => {resolve()},\n            ms\n        );\n    });\n\n    fetchWord = async () => {\n        const {\n            audioConfig,\n            delay,\n            randomOrder,\n        } = this.state;\n        console.log(audioConfig)\n        let index = 0; \n        if (randomOrder) { //if the user wants a random order, find a random index\n            index = Math.floor(Math.random()*audioConfig.length); //picks random index (random audiofile)\n        }\n        const currentOption = audioConfig[index];\n        audioConfig.splice(index, 1);\n        await this.setState({\n            audioConfig: audioConfig,\n            currentWord: currentOption[\"answer\"], //holds correct answer for current audiofile\n            currentOptions: [                       //holds answer choices for current audiofile\n                currentOption[\"option_A\"],\n                currentOption[\"option_B\"],\n                currentOption[\"option_C\"],\n                currentOption[\"option_D\"],\n            ],\n            currentCount: this.state.currentCount + 1, //number of times word has been fetched\n            currentAudioFile: currentOption[\"filename\"], //holds current audiofile chosen\n        });\n        //play the next word after a delay when we go to the next set of choices\n        setTimeout(() => this.handlePlay(), delay);\n    }\n\n    /*If user selected the correct word, increment the number of correct choices*/\n    checkIfCorrectWord = async (option) => {\n        let { \n            //currentOptions,\n            currentWord,\n            correctChoices,\n        } = this.state;\n        if (option == currentWord) {\n            await this.setState((prevState) => ({\n                correctChoices: prevState.correctChoices + 1,\n            }));\n            return \"white\";\n        }\n        return \"yellow\";\n    };\n\n     /*helper function to increment progress bar*/\n     handleNext = () => {\n        this.setState((prevState) => ({\n            subStep: prevState.subStep + 1,\n        }));\n    };\n\n    /*helper function for the drop down menu for number of questions */\n    handleNumQuestionChange = async (event) => {\n        this.setState({\n            numSets: event.target.value,\n        });\n    };\n\n    /*helper function for the drop down menu for stimuli selection*/\n    handleStimuliChange = async (event) => {\n        await this.setState({\n            stimulusFile: event.target.value,\n        });\n        //change the audio configuration to represent the stimuli selected\n        const response = await axios.post(\"/api/researcher/jsonFile\", {data: this.state.audioPath.concat(this.state.stimulusFile)});\n        const audioConfig = response.data[\"words\"]\n        await this.setState({ audioConfig });\n    };\n\n    handleContinue = async (option) => {\n        let {\n            currentCount,\n            currentOptions,\n            currentWord,\n            logs,\n            numSets,\n            correctAnswers,\n            chosenAnswers,\n        } = this.state;\n        const result = await this.checkIfCorrectWord(option); //called to check if user selected the correct word, returns yellow if incorrect answer\n        console.log(logs)\n        console.log(correctAnswers)\n        console.log(chosenAnswers)\n        logs.push({             //adds info from current \"run\" to log: user's answer, answer choices, and correct answer\n            currentOptions,\n            currentWord,\n            option,\n            result\n        });\n        correctAnswers.push({currentWord});\n        chosenAnswers.push({option});\n        this.setState({\n            logs,\n            correctAnswers,\n            chosenAnswers,\n        })\n        if (currentCount >= numSets) {    //if all iterations have been completed, mark test as completed\n            await this.setState({\n                completed: true\n            });\n        } else {\n            this.fetchWord();   //if not done with iterations, proceed to next word\n        }\n        this.handleNext(); //increment the progress bar\n    }\n\n    /* To test /testPython in paramController.js */\n    getData = async() => {\n        try {\n            const respnse = await axios.post(\"/api/param/testPython\")\n            const data = respnse.data\n            console.log(data)\n        }\n        catch(error) {\n            alert(error.response.data);\n        }\n    }\n\n    getSettingOption = () => {\n        const { classes } = this.props;\n        const {\n            delay,\n            numSets,\n            randomOrder,\n            stimulusFile,\n            playInBrowser,\n            playVideo,\n        } = this.state;\n        return (\n            <Grid>\n                <Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n                    Stimuli Selection:\n                </Box>\n                <Box mt={1} lineHeight=\"normal\" fontSize={15} >  \n                    Select the stimuli you would like to use for the test (default BoothroydCCT).\n                </Box>\n                <Grid>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={stimulusFile}\n                            onChange={this.handleStimuliChange}\n                        >\n                            <MenuItem value={\"/BoothroydCCT.json\"}>Boothroyd CCT</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n                    Number of Test Questions:\n                </Box>\n                <Box mt={1} lineHeight=\"normal\" fontSize={15} >  \n                    Select the number of questions for the test (default 4).\n                </Box>\n                <Grid>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={numSets}\n                            onChange={this.handleNumQuestionChange}\n                        >\n                            <MenuItem value={4}>4</MenuItem>\n                            <MenuItem value={8}>8</MenuItem>\n                            <MenuItem value={16}>16</MenuItem>\n                            <MenuItem value={32}>32</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n                    Order of Questions:\n                </Box>\n                <Box mt={1} mb={1} lineHeight=\"normal\" fontSize={15} >  \n                    Choose between random or sequential question order (default random).\n                </Box>\n                <Grid item>\n                    <FormControl component=\"fieldset\">\n                        <RadioGroup aria-label=\"qorder\" name=\"qorder\" value={randomOrder} onChange={this.handleQuestionOrderChange}>\n                            <FormControlLabel value={true} control={<Radio />} label=\"Random\" />\n                            <FormControlLabel value={false} control={<Radio />} label=\"Sequential\" />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                <Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n                    Audio Output:\n                </Box>\n                <Box mt={1} mb={1} lineHeight=\"normal\" fontSize={15} >  \n                    Choose between playing audio/ video through the browser or through the device (default device).\n                </Box>\n                <Grid item>\n                    <FormControl component=\"fieldset\">\n                        <RadioGroup aria-label=\"qorder\" name=\"qorder\" value={playInBrowser} onChange={this.handleAudioOutputChange}>\n                            <FormControlLabel value={false} control={<Radio />} label=\"Device\" />\n                            <FormControlLabel value={true} control={<Radio />} label=\"Browser\" />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {\n                    /*playInBrowser ?\n                    <Grid>\n                        <Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n                            Video Display:\n                        </Box>\n                        <Box mt={1} mb={1} lineHeight=\"normal\" fontSize={15} >  \n                            Select if you would like video to be played if available (default no). Audio Output must be set to browser to enable this.\n                        </Box>\n                        <Grid item>\n                            <FormControl component=\"fieldset\">\n                                <RadioGroup aria-label=\"qorder\" name=\"qorder\" value={playVideo} onChange={this.handleDisplayVideoChange}>\n                                    <FormControlLabel value={true} control={<Radio />} label=\"Video\" />\n                                    <FormControlLabel value={false} control={<Radio />} label=\"No Video\" />\n                                </RadioGroup>\n                            </FormControl>\n                        </Grid> \n                    </Grid>  \n                    :\n                    <Grid></Grid>*/\n                }\n            </Grid>\n        );\n    };\n\n    get4AFCTest = () => {\n        const { classes } = this.props;\n        const { \n            completed,\n            currentOptions,\n            subStep,\n            correctChoices,\n            delay,\n            numSets,\n            playInBrowser,\n            currentAudioFile,\n            playVideo,\n        } = this.state;\n        return (\n            <Grid>\n                <Grid>\n                {\n                    !completed ?\n                    <Grid item xs={12} className={classes.grid}>\n                        Please click the word you heard:\n                        <Tooltip title={<span style={{ fontSize: \"20px\"}}> Click the play button to hear the audio, then choose the word that matches best to the audio</span>}>\n                            <IconButton aria-label=\"help\">\n                            <HelpIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </Grid>\n                    :\n                    <Grid></Grid>\n                    }\n                    <MobileStepper\n                        variant=\"progress\"\n                        steps={numSets+1}\n                        position=\"static\"\n                        activeStep={subStep}\n                        className={classes.progress}\n                        nextButton={\n                            <Button size=\"small\"></Button>\n                        }\n                        backButton={\n                            <Button size=\"small\"></Button>\n                        }\n                    />\n                </Grid>\n                <Grid>\n                {\n                    !completed ? \n                    <Grid\n                    >\n                        {\n                            playInBrowser ?\n                            <Grid>\n                                <AudioPlayer\n                                    audioName = {currentAudioFile}\n                                />\n                            {\n                                playVideo ?\n                                <Grid></Grid>\n                                :\n                                <Grid></Grid>\n                            }\n                            </Grid>\n                            :\n                            <Grid \n                                container\n                                direction=\"row\"\n                                justify=\"space-around\"\n                                alignItems=\"center\"\n                            >\n                                <IconButton \n                                    variant={\"contained\"} \n                                    onClick={() => setTimeout(() => this.handlePlay(), delay)} //play audio with delay\n                                >\n                                    <PlayCircleOutlineIcon className={classes.buttonGroup}/>\n                                </IconButton>\n                            </Grid>\n                        }\n                        <Grid \n                            container\n                            direction=\"column\"\n                            justify=\"flex-end\"\n                            alignItems=\"center\"\n                        >\n                            <Button\n                                className={classes.button} \n                                variant=\"outlined\" \n                                color=\"primary\"\n                                onClick={() => this.handleContinue(currentOptions[0])}\n                            >\n                                {currentOptions[0]}\n                            </Button>\n                            <Button\n                                className={classes.button} \n                                variant=\"outlined\" \n                                color=\"primary\"\n                                onClick={() => this.handleContinue(currentOptions[1])}\n                            >\n                                {currentOptions[1]}\n                            </Button>\n                            <Button\n                                className={classes.button} \n                                variant=\"outlined\" \n                                color=\"primary\"\n                                onClick={() => this.handleContinue(currentOptions[2])}\n                            >\n                                {currentOptions[2]}\n                            </Button>\n                            <Button\n                                className={classes.button} \n                                variant=\"outlined\" \n                                color=\"primary\"\n                                onClick={() => this.handleContinue(currentOptions[3])}\n                            >\n                                {currentOptions[3]}\n                            </Button>\n                        </Grid> \n                    </Grid> :\n                    <Grid \n                        container\n                        direction=\"column\"\n                        justify=\"flex-end\"\n                        alignItems=\"center\"\n                        className={classes.grid}\n                    >\n                        <p>You are finished</p>\n                        <p>Word-Level Accuracy: {(correctChoices*100/numSets).toFixed(2)}%</p>\n                        <TableContainer component={Paper} className={classes.table}>\n                            <Table /*className={classes.table}*/ aria-label=\"simple table\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell>Answer Options</TableCell>\n                                        <TableCell align=\"center\">Your Answer</TableCell>\n                                        <TableCell align=\"center\">Correct Answer</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {this.state.logs.map((log,index) => {\n                                        return (\n                                        <TableRow key={index}>\n                                            <TableCell component=\"th\" scope=\"row\" style={{backgroundColor:log.result}}>\n                                                (A) {log.currentOptions[0]} · (B) {log.currentOptions[1]} · (C) {log.currentOptions[2]} · (D) {log.currentOptions[3]}\n                                                </TableCell>\n                                            <TableCell align=\"center\" style={{backgroundColor:log.result}}>{log.option}</TableCell>\n                                            <TableCell align=\"center\" style={{backgroundColor:log.result}}>{log.currentWord}</TableCell>\n                                        </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </TableContainer>{}\n                        <Button className={classes.restartButton} variant=\"outlined\" onClick={()=>this.reset()}>Click to Restart Test!</Button>\n                    </Grid>\n                }\n                </Grid>\n            </Grid>\n        );\n    };\n\n    getStepContent = (index) => {\n        switch (index) {\n            case 0:\n                return this.getSettingOption();\n            case 1:\n                return this.get4AFCTest();\n            default:\n                return;\n        }\n    };\n\n    handleStepChange = async (change) => {\n        await this.setState((prevState) => ({\n            step: prevState.step + change,\n        }));\n        if (this.state.step === 1){\n            this.fetchWord();\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { step } = this.state;\n        return (\n            <Paper className={classes.paper}>\n                <Stepper orientation=\"vertical\" activeStep={step}>\n                    {[\n                        \"Settings for 4AFC Test\",\n                        \"4AFC Test\",\n                    ].map((label, index) => (\n                        <Step key={label}>\n                            <StepLabel>{label}</StepLabel>\n                            <StepContent>\n                                {this.getStepContent(index)}\n                                <div className={classes.actionsContainer} style={{display: 'flex', flexDirection: 'row'}}>\n                                    {step === 1 ? (\n                                        <Grid></Grid>\n                                    ) : (\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            disabled={step === 1 && this.state.maxSubstepReached < 5}\n                                            onClick={() =>\n                                                this.handleStepChange(1)\n                                            }\n                                        >\n                                            Next\n                                        </Button>\n                                    )}\n                                </div>\n                            </StepContent>\n                        </Step>\n                    ))}\n                </Stepper>\n            </Paper>\n        );\n    }\n}\n\nexport default compose(\n    withUserAuth,\n    withRouter,\n    withStyles(styles)\n)(fourAFCDemo);\n\n\n/* for audio repeat and audio delay, not currently possible/ needed\n\nhelper function for the drop down menu for delay time\nhandleDelayChange = async (event) => {\n    this.setState({\n        delay: event.target.value,\n    });\n};\n\n<Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n    Audio Delay:\n</Box>\n<Box mt={1} lineHeight=\"normal\" fontSize={15} >  \n    Select the delay before audio is played (deafult one second).\n</Box>\n<Grid>\n    <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-label\">Audio Delay</InputLabel>\n        <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={delay}\n            onChange={this.handleDelayChange}\n        >\n            <MenuItem value={0}><em>None</em></MenuItem>\n            <MenuItem value={1000}>One Second</MenuItem>\n            <MenuItem value={2000}>Two Seconds</MenuItem>\n            <MenuItem value={3000}>Three Seconds</MenuItem>\n        </Select>\n    </FormControl>\n</Grid>\n\n<Box mt={2} lineHeight=\"normal\" fontSize={18} >  \n    Audio Repeat:\n</Box>\n<Box mt={1} mb={1} lineHeight=\"normal\" fontSize={15} >  \n    Choose between single play upon press and audio on loop (default single play).\n</Box>\n<Grid item>\n    <FormControl component=\"fieldset\">\n        <RadioGroup aria-label=\"audiorepeat\" name=\"audiorepeat\" value={audioRepeat} onChange={this.handleRepeatChange}>\n            <FormControlLabel value={true} control={<Radio />} label=\"Loop Audio\" />\n            <FormControlLabel value={false} control={<Radio />} label=\"Single Play Upon Press\" />\n        </RadioGroup>\n    </FormControl>\n</Grid>\n\nhandleRepeatChange = (event) => {\n    this.setState({\n        audioRepeat: event.target.value,\n    });\n};\n\nhandleRepeatChange = async () => {\n    const {\n        audioRepeat,\n    } = this.state;\n    await this.setState({ \n        audioRepeat: !audioRepeat,\n    });\n    this.handlePlay();\n}\n*/"]},"metadata":{},"sourceType":"module"}