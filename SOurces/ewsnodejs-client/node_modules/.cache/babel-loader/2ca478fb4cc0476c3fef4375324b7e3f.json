{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnSelect\n * @format\n * \n */\n'use strict';\n\nvar EditorState = require('./EditorState');\n\nvar ReactDOM = require('react-dom');\n\nvar getDraftEditorSelection = require('./getDraftEditorSelection');\n\nvar invariant = require('fbjs/lib/invariant');\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);\n  !editorNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !(editorNode.firstChild instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/draft-js/lib/editOnSelect.js"],"names":["EditorState","require","ReactDOM","getDraftEditorSelection","invariant","editOnSelect","editor","_blockSelectEvents","_latestEditorState","props","editorState","editorNode","findDOMNode","editorContainer","process","env","NODE_ENV","firstChild","HTMLElement","documentSelection","updatedSelectionState","selectionState","getSelection","needsRecovery","forceSelection","acceptSelection","update","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,WAAW,GAAGC,OAAO,CAAC,eAAD,CAAzB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AAEA,IAAIE,uBAAuB,GAAGF,OAAO,CAAC,2BAAD,CAArC;;AACA,IAAIG,SAAS,GAAGH,OAAO,CAAC,oBAAD,CAAvB;;AAEA,SAASI,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,MAAIA,MAAM,CAACC,kBAAP,IAA6BD,MAAM,CAACE,kBAAP,KAA8BF,MAAM,CAACG,KAAP,CAAaC,WAA5E,EAAyF;AACvF;AACD;;AAED,MAAIA,WAAW,GAAGJ,MAAM,CAACG,KAAP,CAAaC,WAA/B;AACA,MAAIC,UAAU,GAAGT,QAAQ,CAACU,WAAT,CAAqBN,MAAM,CAACO,eAA5B,CAAjB;AACA,GAACF,UAAD,GAAcG,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCZ,SAAS,CAAC,KAAD,EAAQ,oBAAR,CAAjD,GAAiFA,SAAS,CAAC,KAAD,CAAxG,GAAkH,KAAK,CAAvH;AACA,IAAEO,UAAU,CAACM,UAAX,YAAiCC,WAAnC,IAAkDJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCZ,SAAS,CAAC,KAAD,EAAQ,6CAAR,CAAjD,GAA0GA,SAAS,CAAC,KAAD,CAArK,GAA+K,KAAK,CAApL;AACA,MAAIe,iBAAiB,GAAGhB,uBAAuB,CAACO,WAAD,EAAcC,UAAU,CAACM,UAAzB,CAA/C;AACA,MAAIG,qBAAqB,GAAGD,iBAAiB,CAACE,cAA9C;;AAEA,MAAID,qBAAqB,KAAKV,WAAW,CAACY,YAAZ,EAA9B,EAA0D;AACxD,QAAIH,iBAAiB,CAACI,aAAtB,EAAqC;AACnCb,MAAAA,WAAW,GAAGV,WAAW,CAACwB,cAAZ,CAA2Bd,WAA3B,EAAwCU,qBAAxC,CAAd;AACD,KAFD,MAEO;AACLV,MAAAA,WAAW,GAAGV,WAAW,CAACyB,eAAZ,CAA4Bf,WAA5B,EAAyCU,qBAAzC,CAAd;AACD;;AACDd,IAAAA,MAAM,CAACoB,MAAP,CAAchB,WAAd;AACD;AACF;;AAEDiB,MAAM,CAACC,OAAP,GAAiBvB,YAAjB","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnSelect\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar ReactDOM = require('react-dom');\n\nvar getDraftEditorSelection = require('./getDraftEditorSelection');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);\n  !editorNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !(editorNode.firstChild instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;"]},"metadata":{},"sourceType":"script"}