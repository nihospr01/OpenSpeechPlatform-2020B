{"ast":null,"code":"import _regeneratorRuntime from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{axios}from'utils/utils';import{withStyles}from'@material-ui/styles';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Input from'@material-ui/core/Input';import Slider from'@material-ui/core/Slider';import ToggleButton from'@material-ui/lab/ToggleButton';import Box from'@material-ui/core/Box';var styles=function styles(theme){return{content:{padding:theme.spacing(3),maxWidth:500,minWidth:200,margin:'auto'},button:{width:320,margin:'auto',marginTop:8},groupButton:{width:320,color:'gray'},input:{width:60}};};var noiseOptions=['None','Arslan power averaging procedure','Hirsch and Ehrlicher weighted noise averaging procedure','Cohen and Berdugo MCRA Procedure'];var NoiseManagement=/*#__PURE__*/function(_Component){_inherits(NoiseManagement,_Component);var _super=_createSuper(NoiseManagement);function NoiseManagement(){var _this;_classCallCheck(this,NoiseManagement);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentNoiseOption:0,noiseSubtraction:0,speechEnhancementEnabled:false,normConstraint:0,adaptionModeControl:0,beamformingEnabled:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.loadParameter();case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));_this.loadParameter=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/api/param/getparam\");case 3:response=_context2.sent;data=response.data;_this.setState({currentNoiseOption:parseInt(data['left']['noise_estimation_type']),noiseSubtraction:parseFloat(data['left']['spectral_subtraction']),speechEnhancementEnabled:data['left']['spectral_type']===1,normConstraint:parseInt(data['left']['nc_thr']),adaptionModeControl:parseInt(data['left']['amc_thr']),beamformingEnabled:data['left']['bf']===1});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));_this.handleToggleNoiseOption=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var _this$state,speechEnhancementEnabled,noiseSubtraction;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state=_this.state,speechEnhancementEnabled=_this$state.speechEnhancementEnabled,noiseSubtraction=_this$state.noiseSubtraction;_context3.next=3;return _this.handleTransmitSpeechData(speechEnhancementEnabled,value,noiseSubtraction);case 3:_this.setState({currentNoiseOption:value});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.handleNoiseSubtractionSliderChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event,newValue){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.setNoiseSubtraction(newValue);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();_this.handleNoiseSubtractionInputChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(event){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.setNoiseSubtraction(event.target.value===''?0:Number(event.target.value));case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref5.apply(this,arguments);};}();_this.handleBlurNoiseSubtraction=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var noiseSubtraction;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:noiseSubtraction=_this.state.noiseSubtraction;if(!(noiseSubtraction<0)){_context6.next=6;break;}_context6.next=4;return _this.setNoiseSubtraction(0);case 4:_context6.next=9;break;case 6:if(!(noiseSubtraction>1)){_context6.next=9;break;}_context6.next=9;return _this.setNoiseSubtraction(1);case 9:case\"end\":return _context6.stop();}}},_callee6);}));_this.handleNormConstraintSliderChange=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(event,newValue){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _this.setNormConstraint(newValue);case 2:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5,_x6){return _ref7.apply(this,arguments);};}();_this.handleNormConstraintInputChange=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(event){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _this.setNormConstraint(event.target.value===''?0:Number(event.target.value));case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref8.apply(this,arguments);};}();_this.handleBlurNormConstraint=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var normConstraint;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:normConstraint=_this.state.normConstraint;if(!(normConstraint<0)){_context9.next=6;break;}_context9.next=4;return _this.setNormConstraint(0);case 4:_context9.next=9;break;case 6:if(!(normConstraint>10)){_context9.next=9;break;}_context9.next=9;return _this.setNormConstraint(10);case 9:case\"end\":return _context9.stop();}}},_callee9);}));_this.handleAdaptionSliderChange=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(event,newValue){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return _this.setAdaption(newValue);case 2:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x8,_x9){return _ref10.apply(this,arguments);};}();_this.handleAdaptionInputChange=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(event){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return _this.setAdaption(event.target.value===''?0:Number(event.target.value));case 2:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x10){return _ref11.apply(this,arguments);};}();_this.handleBlurAdaption=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var adaptionModeControl;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:adaptionModeControl=_this.state.adaptionModeControl;if(!(adaptionModeControl<0)){_context12.next=6;break;}_context12.next=4;return _this.setAdaption(0);case 4:_context12.next=9;break;case 6:if(!(adaptionModeControl>1)){_context12.next=9;break;}_context12.next=9;return _this.setAdaption(1);case 9:case\"end\":return _context12.stop();}}},_callee12);}));_this.setNoiseSubtraction=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(value){var _this$state2,speechEnhancementEnabled,currentNoiseOption;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_this$state2=_this.state,speechEnhancementEnabled=_this$state2.speechEnhancementEnabled,currentNoiseOption=_this$state2.currentNoiseOption;_context13.next=3;return _this.handleTransmitSpeechData(speechEnhancementEnabled,currentNoiseOption,value);case 3:_this.setState({noiseSubtraction:value});case 4:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref13.apply(this,arguments);};}();_this.setNormConstraint=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(value){var _this$state3,beamformingEnabled,adaptionModeControl;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_this$state3=_this.state,beamformingEnabled=_this$state3.beamformingEnabled,adaptionModeControl=_this$state3.adaptionModeControl;_context14.next=3;return _this.handleTransmiteBeamformingData(beamformingEnabled,value,adaptionModeControl);case 3:_this.setState({normConstraint:value});case 4:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref14.apply(this,arguments);};}();_this.setAdaption=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(value){var _this$state4,beamformingEnabled,normConstraint;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_this$state4=_this.state,beamformingEnabled=_this$state4.beamformingEnabled,normConstraint=_this$state4.normConstraint;_context15.next=3;return _this.handleTransmiteBeamformingData(beamformingEnabled,normConstraint,value);case 3:_this.setState({adaptionModeControl:value});case 4:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref15.apply(this,arguments);};}();_this.handleSpeechEnhancementChange=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(){var _this$state5,speechEnhancementEnabled,currentNoiseOption,noiseSubtraction;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_this$state5=_this.state,speechEnhancementEnabled=_this$state5.speechEnhancementEnabled,currentNoiseOption=_this$state5.currentNoiseOption,noiseSubtraction=_this$state5.noiseSubtraction;_context16.prev=1;_context16.next=4;return _this.handleTransmitSpeechData(!speechEnhancementEnabled,currentNoiseOption,noiseSubtraction);case 4:_this.setState({speechEnhancementEnabled:!speechEnhancementEnabled});_context16.next=10;break;case 7:_context16.prev=7;_context16.t0=_context16[\"catch\"](1);alert(_context16.t0.response.data);case 10:case\"end\":return _context16.stop();}}},_callee16,null,[[1,7]]);}));_this.handleBeamformingChange=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){var _this$state6,beamformingEnabled,normConstraint,adaptionModeControl;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_this$state6=_this.state,beamformingEnabled=_this$state6.beamformingEnabled,normConstraint=_this$state6.normConstraint,adaptionModeControl=_this$state6.adaptionModeControl;_context17.prev=1;_context17.next=4;return _this.handleTransmiteBeamformingData(!beamformingEnabled,normConstraint,adaptionModeControl);case 4:_this.setState({beamformingEnabled:!beamformingEnabled});_context17.next=10;break;case 7:_context17.prev=7;_context17.t0=_context17[\"catch\"](1);alert(_context17.t0.response.data);case 10:case\"end\":return _context17.stop();}}},_callee17,null,[[1,7]]);}));_this.handleTransmiteBeamformingData=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(beamformingEnabled,normConstraint,adaptionModeControl){var beamformingData;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:beamformingData={'bf':beamformingEnabled===false?0:1,'nc_thr':normConstraint,'amc_thr':adaptionModeControl};_context18.next=3;return axios.post(\"/api/param/setparam\",{method:'set',data:{'left':beamformingData,'right':beamformingData}});case 3:return _context18.abrupt(\"return\",_context18.sent);case 4:case\"end\":return _context18.stop();}}},_callee18);}));return function(_x14,_x15,_x16){return _ref18.apply(this,arguments);};}();_this.handleTransmitSpeechData=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(speechEnhancementEnabled,currentNoiseOption,noiseSubtraction){var speechData;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:speechData={'noise_estimation_type':currentNoiseOption,'spectral_type':speechEnhancementEnabled===false?0:1,'spectral_subtraction':noiseSubtraction};_context19.next=3;return axios.post(\"/api/param/setparam\",{method:'set',data:{'left':speechData,'right':speechData}});case 3:return _context19.abrupt(\"return\",_context19.sent);case 4:case\"end\":return _context19.stop();}}},_callee19);}));return function(_x17,_x18,_x19){return _ref19.apply(this,arguments);};}();return _this;}_createClass(NoiseManagement,[{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;var _this$state7=this.state,currentNoiseOption=_this$state7.currentNoiseOption,noiseSubtraction=_this$state7.noiseSubtraction,speechEnhancementEnabled=_this$state7.speechEnhancementEnabled,normConstraint=_this$state7.normConstraint,adaptionModeControl=_this$state7.adaptionModeControl,beamformingEnabled=_this$state7.beamformingEnabled;return/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"column\"},/*#__PURE__*/React.createElement(Typography,{component:\"div\"},/*#__PURE__*/React.createElement(Box,{lineHeight:2},\"Noise Estimation Options:\")),/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"column\",justify:\"center\",alignItems:\"center\"},noiseOptions.map(function(value,index){return/*#__PURE__*/React.createElement(ToggleButton,{color:\"primary\",className:classes.groupButton,key:\"noise_\".concat(index),value:index,selected:index===currentNoiseOption,onClick:function onClick(){return _this2.handleToggleNoiseOption(index);}},value);})),/*#__PURE__*/React.createElement(Typography,{component:\"div\"},/*#__PURE__*/React.createElement(Box,{lineHeight:2},\"Noise Subtraction Parameter:\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true},\"None\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(Slider,{value:noiseSubtraction,onChange:this.handleNoiseSubtractionSliderChange,step:0.001,min:0,max:1})),/*#__PURE__*/React.createElement(Grid,{item:true},\"Aggressive\"),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Input,{className:classes.input,value:noiseSubtraction,margin:\"dense\",onChange:this.handleNoiseSubtractionInputChange,onBlur:this.handleBlurNoiseSubtraction,inputProps:{step:0.001,min:0,max:1,type:'number'}}))),/*#__PURE__*/React.createElement(Grid,{container:true,alignItems:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.handleSpeechEnhancementChange,className:classes.button},speechEnhancementEnabled?\"Disable Speech Enhancement\":\"Enable Speech Enhancement\")),/*#__PURE__*/React.createElement(Typography,{component:\"div\"},/*#__PURE__*/React.createElement(Box,{lineHeight:2,fontSize:24},\"Beamforming\")),/*#__PURE__*/React.createElement(Typography,{component:\"div\"},/*#__PURE__*/React.createElement(Box,{lineHeight:2},\"Norm Constraint:\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,alignItems:\"center\",justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:8},/*#__PURE__*/React.createElement(Slider,{value:normConstraint,onChange:this.handleNormConstraintSliderChange,step:1,min:0,max:10})),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Input,{className:classes.input,value:normConstraint,margin:\"dense\",onChange:this.handleNormConstraintInputChange,onBlur:this.handleBlurNormConstraint,inputProps:{step:1,min:0,max:10,type:'number'}}))),/*#__PURE__*/React.createElement(Typography,{component:\"div\"},/*#__PURE__*/React.createElement(Box,{lineHeight:2},\"Adaptation mode control:\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,alignItems:\"center\",justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:8},/*#__PURE__*/React.createElement(Slider,{value:adaptionModeControl,onChange:this.handleAdaptionSliderChange,step:1,min:0,max:10})),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Input,{className:classes.input,value:adaptionModeControl,margin:\"dense\",onChange:this.handleAdaptionInputChange,onBlur:this.handleBlurAdaption,inputProps:{step:1,min:0,max:10,type:'number'}}))),/*#__PURE__*/React.createElement(Grid,{container:true,alignItems:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.handleBeamformingChange,className:classes.button},beamformingEnabled?\"Disable Beamforming\":\"Enable Beamforming\"))));}}]);return NoiseManagement;}(Component);export default withStyles(styles)(NoiseManagement);","map":{"version":3,"sources":["/opt/OpenSpeechPlatform-UCSD/Software/ewsnodejs-client/src/components/noiseManagement.jsx"],"names":["React","Component","axios","withStyles","Grid","Typography","Button","Input","Slider","ToggleButton","Box","styles","theme","content","padding","spacing","maxWidth","minWidth","margin","button","width","marginTop","groupButton","color","input","noiseOptions","NoiseManagement","state","currentNoiseOption","noiseSubtraction","speechEnhancementEnabled","normConstraint","adaptionModeControl","beamformingEnabled","componentDidMount","loadParameter","alert","post","response","data","setState","parseInt","parseFloat","handleToggleNoiseOption","value","handleTransmitSpeechData","handleNoiseSubtractionSliderChange","event","newValue","setNoiseSubtraction","handleNoiseSubtractionInputChange","target","Number","handleBlurNoiseSubtraction","handleNormConstraintSliderChange","setNormConstraint","handleNormConstraintInputChange","handleBlurNormConstraint","handleAdaptionSliderChange","setAdaption","handleAdaptionInputChange","handleBlurAdaption","handleTransmiteBeamformingData","handleSpeechEnhancementChange","handleBeamformingChange","beamformingData","method","speechData","classes","props","map","index","step","min","max","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { axios } from 'utils/utils';\nimport { withStyles } from '@material-ui/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Input from '@material-ui/core/Input';\nimport Slider from '@material-ui/core/Slider';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport Box from '@material-ui/core/Box';\n\nconst styles = (theme) => ({\n    content: {\n        padding: theme.spacing(3),\n        maxWidth: 500,\n        minWidth: 200,\n        margin: 'auto'\n    },\n    button: {\n        width: 320,\n        margin: 'auto',\n        marginTop: 8,\n    },\n    groupButton: {\n        width: 320,\n        color: 'gray',\n    },\n    input: {\n        width: 60,\n    },\n})\n\nconst noiseOptions = [\n    'None',\n    'Arslan power averaging procedure',\n    'Hirsch and Ehrlicher weighted noise averaging procedure',\n    'Cohen and Berdugo MCRA Procedure',\n];\n\n\nclass NoiseManagement extends Component {\n    state = {\n        currentNoiseOption: 0,\n        noiseSubtraction: 0,\n        speechEnhancementEnabled: false,\n        normConstraint: 0,\n        adaptionModeControl: 0,\n        beamformingEnabled: false,\n    };\n\n    componentDidMount = async () => {\n        try {\n            await this.loadParameter();\n        }\n        catch (error) {\n            alert(error);\n        }\n    }\n\n    loadParameter = async () => {\n        try {\n            const response = await axios.post(\"/api/param/getparam\");\n            const data = response.data;\n            this.setState({\n                currentNoiseOption: parseInt(data['left']['noise_estimation_type']),\n                noiseSubtraction: parseFloat(data['left']['spectral_subtraction']),\n                speechEnhancementEnabled: data['left']['spectral_type'] === 1,\n                normConstraint: parseInt(data['left']['nc_thr']),\n                adaptionModeControl: parseInt(data['left']['amc_thr']),\n                beamformingEnabled: data['left']['bf'] === 1,\n            });\n        }\n        catch (error) {\n            throw error;\n        }\n    }\n\n    // Transmit data immediately when option change\n    handleToggleNoiseOption = async (value) => {\n        const { \n            speechEnhancementEnabled, \n            noiseSubtraction,\n        } = this.state;\n        await this.handleTransmitSpeechData(speechEnhancementEnabled, value, noiseSubtraction );\n        this.setState({\n            currentNoiseOption: value,\n        });\n    }\n\n    // Transmit data immediately when slider change\n    handleNoiseSubtractionSliderChange = async (event, newValue) => {\n        await this.setNoiseSubtraction(newValue);\n    }\n\n    handleNoiseSubtractionInputChange = async event => {\n        await this.setNoiseSubtraction(event.target.value === '' ? 0 : Number(event.target.value));\n    }\n\n    handleBlurNoiseSubtraction = async () => {\n        const { noiseSubtraction } = this.state;\n\n        if (noiseSubtraction < 0) {\n            await this.setNoiseSubtraction(0);\n        } else if (noiseSubtraction > 1) {\n            await this.setNoiseSubtraction(1);\n        }\n    }\n\n\n    handleNormConstraintSliderChange = async (event, newValue) => {\n        await this.setNormConstraint(newValue);\n    }\n\n    handleNormConstraintInputChange = async (event) => {\n        await this.setNormConstraint(event.target.value === '' ? 0 : Number(event.target.value));\n    }\n\n    handleBlurNormConstraint = async () => {\n        const { normConstraint } = this.state;\n\n        if (normConstraint < 0) {\n            await this.setNormConstraint(0);\n        } else if (normConstraint > 10) {\n            await this.setNormConstraint(10);\n        }\n    }\n\n    handleAdaptionSliderChange = async (event, newValue) => {\n        await this.setAdaption(newValue);\n    }\n\n    handleAdaptionInputChange = async (event) => {\n        await this.setAdaption(event.target.value === '' ? 0 : Number(event.target.value));\n    }\n\n    handleBlurAdaption = async () => {\n        const { adaptionModeControl } = this.state;\n\n        if (adaptionModeControl < 0) {\n            await this.setAdaption(0);\n        } else if (adaptionModeControl > 1) {\n            await this.setAdaption(1);\n        }\n    }\n\n    setNoiseSubtraction = async (value) => {\n        const { \n            speechEnhancementEnabled, \n            currentNoiseOption,\n        } = this.state;\n        await this.handleTransmitSpeechData(speechEnhancementEnabled, currentNoiseOption, value );\n        this.setState({ noiseSubtraction: value });\n    }\n\n    setNormConstraint = async (value) => {\n        const { \n            beamformingEnabled, \n            adaptionModeControl,\n        } = this.state;\n        await this.handleTransmiteBeamformingData(beamformingEnabled, value, adaptionModeControl );\n        this.setState({ normConstraint: value });\n    }\n\n    setAdaption = async (value) => {\n        const { \n            beamformingEnabled, \n            normConstraint,\n        } = this.state;\n        await this.handleTransmiteBeamformingData(beamformingEnabled, normConstraint, value );\n        this.setState({ adaptionModeControl: value });\n    }\n\n    handleSpeechEnhancementChange = async () => {\n        const { \n            speechEnhancementEnabled, \n            currentNoiseOption, \n            noiseSubtraction,\n        } = this.state;\n        try {\n            await this.handleTransmitSpeechData(!speechEnhancementEnabled,currentNoiseOption, noiseSubtraction);\n            this.setState({ \n                speechEnhancementEnabled: !speechEnhancementEnabled,\n            });\n        }\n        catch(error) {\n            alert(error.response.data);\n        }\n    }\n\n    handleBeamformingChange = async () => {\n        const { \n            beamformingEnabled, \n            normConstraint, \n            adaptionModeControl,\n        } = this.state;\n        try {\n            await this.handleTransmiteBeamformingData(!beamformingEnabled, normConstraint,adaptionModeControl);\n            this.setState({ \n                beamformingEnabled: !beamformingEnabled,\n            });\n        }\n        catch(error) {\n            alert(error.response.data);\n        }\n    }\n\n\n    handleTransmiteBeamformingData  = async (beamformingEnabled,normConstraint, adaptionModeControl ) => {\n        let beamformingData = {\n            'bf':beamformingEnabled === false ? 0 : 1,\n            'nc_thr': normConstraint,\n            'amc_thr': adaptionModeControl\n        }\n        return await axios.post(\"/api/param/setparam\", {\n            method: 'set',\n            data: \n                {\n                    'left': beamformingData,\n                    'right': beamformingData\n                } \n        });\n    }\n\n    handleTransmitSpeechData = async(speechEnhancementEnabled,currentNoiseOption, noiseSubtraction) => {\n        let speechData = {\n            'noise_estimation_type': currentNoiseOption,\n            'spectral_type': speechEnhancementEnabled === false ? 0 : 1,\n            'spectral_subtraction': noiseSubtraction,\n        };\n        return await axios.post(\"/api/param/setparam\", {\n            method: 'set',\n            data: \n                {\n                    'left': speechData,\n                    'right':speechData\n                } \n        });\n    }\n\n    render() {\n        const { classes } = this.props; \n        const { \n            currentNoiseOption,\n            noiseSubtraction,\n            speechEnhancementEnabled,\n            normConstraint,\n            adaptionModeControl,\n            beamformingEnabled,\n        } = this.state;\n        return (\n            <div className={classes.content}>\n                <Grid container direction=\"column\">\n                    <Typography component=\"div\">\n                        <Box lineHeight={2} >  \n                            Noise Estimation Options:\n                        </Box>\n                    </Typography>\n                    <Grid\n                        container\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        {\n                            noiseOptions.map((value, index) => (\n                                <ToggleButton \n                                    color=\"primary\"\n                                    className={classes.groupButton} \n                                    key={`noise_${index}`}\n                                    value={index} \n                                    selected={index === currentNoiseOption}\n                                    onClick={() => this.handleToggleNoiseOption(index)}\n                                >\n                                    {value}\n                                </ToggleButton>\n                            ))\n                        }\n                    </Grid>\n                    <Typography component=\"div\">\n                        <Box lineHeight={2} >  \n                            Noise Subtraction Parameter:\n                        </Box>\n                    </Typography>\n                    <Grid container spacing={3} alignItems=\"center\">\n                        <Grid item>\n                            None\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={noiseSubtraction}\n                                onChange={this.handleNoiseSubtractionSliderChange}\n                                step={0.001}\n                                min={0}\n                                max={1}\n                            />\n                        </Grid>\n                        <Grid item>\n                            Aggressive\n                        </Grid>\n                        <Grid item>\n                            <Input\n                                className={classes.input}\n                                value={noiseSubtraction}\n                                margin=\"dense\"\n                                onChange={this.handleNoiseSubtractionInputChange}\n                                onBlur={this.handleBlurNoiseSubtraction}\n                                inputProps={{\n                                    step: 0.001,\n                                    min: 0,\n                                    max: 1,\n                                    type: 'number',\n                                }}\n                            />\n                        </Grid>\n                    </Grid>\n                    <Grid container alignItems=\"center\">\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={this.handleSpeechEnhancementChange}\n                            className={classes.button}\n                        >\n                        {\n                            speechEnhancementEnabled ? \n                                \"Disable Speech Enhancement\" :\n                                \"Enable Speech Enhancement\"\n                        }\n                        </Button>\n                    </Grid>\n                    <Typography component=\"div\">\n                        <Box lineHeight={2} fontSize={24} >  \n                            Beamforming\n                        </Box>\n                    </Typography>\n                    <Typography component=\"div\">\n                        <Box lineHeight={2} >  \n                            Norm Constraint:\n                        </Box>\n                    </Typography>\n                    <Grid \n                        container\n                        spacing={3}\n                        alignItems=\"center\" \n                        justify=\"center\"\n                    >\n                        <Grid container item xs={8} >\n                            <Slider\n                                value={normConstraint}\n                                onChange={this.handleNormConstraintSliderChange}\n                                step={1}\n                                min={0}\n                                max={10}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <Input\n                                className={classes.input}\n                                value={normConstraint}\n                                margin=\"dense\"\n                                onChange={this.handleNormConstraintInputChange}\n                                onBlur={this.handleBlurNormConstraint}\n                                inputProps={{\n                                    step: 1,\n                                    min: 0,\n                                    max: 10,\n                                    type: 'number',\n                                }}\n                            />\n                        </Grid>\n                    </Grid>\n                    <Typography component=\"div\">\n                        <Box lineHeight={2} >  \n                            Adaptation mode control:\n                        </Box>\n                    </Typography>\n                    <Grid \n                        container\n                        spacing={3}\n                        alignItems=\"center\" \n                        justify=\"center\"\n                    >\n                        <Grid container item xs={8} >\n                            <Slider\n                                value={adaptionModeControl}\n                                onChange={this.handleAdaptionSliderChange}\n                                step={1}\n                                min={0}\n                                max={10}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <Input\n                                className={classes.input}\n                                value={adaptionModeControl}\n                                margin=\"dense\"\n                                onChange={this.handleAdaptionInputChange}\n                                onBlur={this.handleBlurAdaption}\n                                inputProps={{\n                                    step: 1,\n                                    min: 0,\n                                    max: 10,\n                                    type: 'number',\n                                }}\n                            />\n                        </Grid>\n                    </Grid>\n                    <Grid container alignItems=\"center\">\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={this.handleBeamformingChange}\n                            className={classes.button}\n                        >\n                        {\n                            beamformingEnabled ? \n                                \"Disable Beamforming\" :\n                                \"Enable Beamforming\"\n                        }\n                        </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(NoiseManagement);"]},"metadata":{},"sourceType":"module"}