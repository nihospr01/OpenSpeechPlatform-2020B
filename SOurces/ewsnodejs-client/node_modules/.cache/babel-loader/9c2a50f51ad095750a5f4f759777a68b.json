{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SelectionState\n * @format\n * \n */\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Immutable = require('immutable');\n\nvar Record = Immutable.Record;\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = function (_SelectionStateRecord) {\n  _inherits(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    _classCallCheck(this, SelectionState);\n\n    return _possibleConstructorReturn(this, _SelectionStateRecord.apply(this, arguments));\n  }\n\n  SelectionState.prototype.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  SelectionState.prototype.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  SelectionState.prototype.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  SelectionState.prototype.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  SelectionState.prototype.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  SelectionState.prototype.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  SelectionState.prototype.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  };\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n\n\n  SelectionState.prototype.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionEnd && selectionStart <= end;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  SelectionState.prototype.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  SelectionState.prototype.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  SelectionState.prototype.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  SelectionState.prototype.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  SelectionState.prototype.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/draft-js/lib/SelectionState.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Immutable","require","Record","defaultRecord","anchorKey","anchorOffset","focusKey","focusOffset","isBackward","hasFocus","SelectionStateRecord","SelectionState","_SelectionStateRecord","apply","arguments","serialize","getAnchorKey","getAnchorOffset","getFocusKey","getFocusOffset","String","getIsBackward","getHasFocus","get","hasEdgeWithin","blockKey","start","end","selectionStart","getStartOffset","selectionEnd","getEndOffset","offsetToCheck","isCollapsed","getStartKey","getEndKey","createEmpty","key","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SelectionState\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Immutable = require('immutable');\n\nvar Record = Immutable.Record;\n\n\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = function (_SelectionStateRecord) {\n  _inherits(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    _classCallCheck(this, SelectionState);\n\n    return _possibleConstructorReturn(this, _SelectionStateRecord.apply(this, arguments));\n  }\n\n  SelectionState.prototype.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  SelectionState.prototype.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  SelectionState.prototype.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  SelectionState.prototype.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  SelectionState.prototype.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  SelectionState.prototype.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  SelectionState.prototype.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  };\n\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n\n\n  SelectionState.prototype.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionEnd && selectionStart <= end;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  SelectionState.prototype.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  SelectionState.prototype.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  SelectionState.prototype.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  SelectionState.prototype.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  SelectionState.prototype.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;"]},"metadata":{},"sourceType":"script"}