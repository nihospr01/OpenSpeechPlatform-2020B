{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _get from 'babel-runtime/helpers/get';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport classNames from 'classnames';\nimport warning from 'warning';\nimport Steps from './Steps';\nimport Marks from './Marks';\nimport Handle from '../Handle';\nimport * as utils from '../utils';\n\nfunction noop() {}\n\nexport default function createSlider(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_Component) {\n    _inherits(ComponentEnhancer, _Component);\n\n    function ComponentEnhancer(props) {\n      _classCallCheck(this, ComponentEnhancer);\n\n      var _this = _possibleConstructorReturn(this, (ComponentEnhancer.__proto__ || Object.getPrototypeOf(ComponentEnhancer)).call(this, props));\n\n      _this.onMouseDown = function (e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.removeDocumentEvents();\n\n        _this.onStart(position);\n\n        _this.addDocumentMouseEvents();\n      };\n\n      _this.onTouchStart = function (e) {\n        if (utils.isNotTouchEvent(e)) return;\n        var isVertical = _this.props.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.onStart(position);\n\n        _this.addDocumentTouchEvents();\n\n        utils.pauseEvent(e);\n      };\n\n      _this.onFocus = function (e) {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            vertical = _this$props.vertical;\n\n        if (utils.isEventFromHandle(e, _this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          _this.dragOffset = 0;\n\n          _this.onStart(handlePosition);\n\n          utils.pauseEvent(e);\n\n          if (onFocus) {\n            onFocus(e);\n          }\n        }\n      };\n\n      _this.onBlur = function (e) {\n        var onBlur = _this.props.onBlur;\n\n        _this.onEnd();\n\n        if (onBlur) {\n          onBlur(e);\n        }\n      };\n\n      _this.onMouseUp = function () {\n        if (_this.handlesRefs[_this.prevMovedHandleIndex]) {\n          _this.handlesRefs[_this.prevMovedHandleIndex].clickFocus();\n        }\n      };\n\n      _this.onMouseMove = function (e) {\n        if (!_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getMousePosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onTouchMove = function (e) {\n        if (utils.isNotTouchEvent(e) || !_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getTouchPosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onKeyDown = function (e) {\n        if (_this.sliderRef && utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.onKeyboard(e);\n        }\n      };\n\n      _this.onClickMarkLabel = function (e, value) {\n        e.stopPropagation();\n\n        _this.onChange({\n          value: value\n        });\n\n        _this.setState({\n          value: value\n        }, function () {\n          return _this.onEnd(true);\n        });\n      };\n\n      _this.saveSlider = function (slider) {\n        _this.sliderRef = slider;\n      };\n\n      var step = props.step,\n          max = props.max,\n          min = props.min;\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n\n      warning(step && Math.floor(step) === step ? isPointDiffEven : true, 'Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)', max - min, step);\n      _this.handlesRefs = {};\n      return _this;\n    }\n\n    _createClass(ComponentEnhancer, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        this.document = this.sliderRef && this.sliderRef.ownerDocument;\n        var _props = this.props,\n            autoFocus = _props.autoFocus,\n            disabled = _props.disabled;\n\n        if (autoFocus && !disabled) {\n          this.focus();\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (_get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this)) _get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this).call(this);\n        this.removeDocumentEvents();\n      }\n    }, {\n      key: 'getSliderStart',\n      value: function getSliderStart() {\n        var slider = this.sliderRef;\n        var _props2 = this.props,\n            vertical = _props2.vertical,\n            reverse = _props2.reverse;\n        var rect = slider.getBoundingClientRect();\n\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      }\n    }, {\n      key: 'getSliderLength',\n      value: function getSliderLength() {\n        var slider = this.sliderRef;\n\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.props.vertical ? coords.height : coords.width;\n      }\n    }, {\n      key: 'addDocumentTouchEvents',\n      value: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = addEventListener(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = addEventListener(this.document, 'touchend', this.onEnd);\n      }\n    }, {\n      key: 'addDocumentMouseEvents',\n      value: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = addEventListener(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = addEventListener(this.document, 'mouseup', this.onEnd);\n      }\n    }, {\n      key: 'removeDocumentEvents',\n      value: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      }\n    }, {\n      key: 'focus',\n      value: function focus() {\n        if (!this.props.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      }\n    }, {\n      key: 'blur',\n      value: function blur() {\n        var _this2 = this;\n\n        if (!this.props.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this2.handlesRefs[key] && _this2.handlesRefs[key].blur) {\n              _this2.handlesRefs[key].blur();\n            }\n          });\n        }\n      }\n    }, {\n      key: 'calcValue',\n      value: function calcValue(offset) {\n        var _props3 = this.props,\n            vertical = _props3.vertical,\n            min = _props3.min,\n            max = _props3.max;\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      }\n    }, {\n      key: 'calcValueByPos',\n      value: function calcValueByPos(position) {\n        var sign = this.props.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      }\n    }, {\n      key: 'calcOffset',\n      value: function calcOffset(value) {\n        var _props4 = this.props,\n            min = _props4.min,\n            max = _props4.max;\n        var ratio = (value - min) / (max - min);\n        return ratio * 100;\n      }\n    }, {\n      key: 'saveHandle',\n      value: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _props5 = this.props,\n            prefixCls = _props5.prefixCls,\n            className = _props5.className,\n            marks = _props5.marks,\n            dots = _props5.dots,\n            step = _props5.step,\n            included = _props5.included,\n            disabled = _props5.disabled,\n            vertical = _props5.vertical,\n            reverse = _props5.reverse,\n            min = _props5.min,\n            max = _props5.max,\n            children = _props5.children,\n            maximumTrackStyle = _props5.maximumTrackStyle,\n            style = _props5.style,\n            railStyle = _props5.railStyle,\n            dotStyle = _props5.dotStyle,\n            activeDotStyle = _props5.activeDotStyle;\n\n        var _get$call = _get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'render', this).call(this),\n            tracks = _get$call.tracks,\n            handles = _get$call.handles;\n\n        var sliderClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-with-marks', Object.keys(marks).length), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, prefixCls + '-vertical', vertical), _defineProperty(_classNames, className, className), _classNames));\n        return React.createElement('div', {\n          ref: this.saveSlider,\n          className: sliderClassName,\n          onTouchStart: disabled ? noop : this.onTouchStart,\n          onMouseDown: disabled ? noop : this.onMouseDown,\n          onMouseUp: disabled ? noop : this.onMouseUp,\n          onKeyDown: disabled ? noop : this.onKeyDown,\n          onFocus: disabled ? noop : this.onFocus,\n          onBlur: disabled ? noop : this.onBlur,\n          style: style\n        }, React.createElement('div', {\n          className: prefixCls + '-rail',\n          style: _extends({}, maximumTrackStyle, railStyle)\n        }), tracks, React.createElement(Steps, {\n          prefixCls: prefixCls,\n          vertical: vertical,\n          reverse: reverse,\n          marks: marks,\n          dots: dots,\n          step: step,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          dotStyle: dotStyle,\n          activeDotStyle: activeDotStyle\n        }), handles, React.createElement(Marks, {\n          className: prefixCls + '-mark',\n          onClickLabel: disabled ? noop : this.onClickMarkLabel,\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse\n        }), children);\n      }\n    }]);\n\n    return ComponentEnhancer;\n  }(Component), _class.displayName = 'ComponentEnhancer(' + Component.displayName + ')', _class.propTypes = _extends({}, Component.propTypes, {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n    included: PropTypes.bool,\n    className: PropTypes.string,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    children: PropTypes.any,\n    onBeforeChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onAfterChange: PropTypes.func,\n    handle: PropTypes.func,\n    dots: PropTypes.bool,\n    vertical: PropTypes.bool,\n    style: PropTypes.object,\n    reverse: PropTypes.bool,\n    minimumTrackStyle: PropTypes.object,\n    // just for compatibility, will be deperecate\n    maximumTrackStyle: PropTypes.object,\n    // just for compatibility, will be deperecate\n    handleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    trackStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    railStyle: PropTypes.object,\n    dotStyle: PropTypes.object,\n    activeDotStyle: PropTypes.object,\n    autoFocus: PropTypes.bool,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n  }), _class.defaultProps = _extends({}, Component.defaultProps, {\n    prefixCls: 'rc-slider',\n    className: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: {},\n    handle: function handle(_ref) {\n      var index = _ref.index,\n          restProps = _objectWithoutProperties(_ref, ['index']);\n\n      delete restProps.dragging;\n\n      if (restProps.value === null) {\n        return null;\n      }\n\n      return React.createElement(Handle, _extends({}, restProps, {\n        key: index\n      }));\n    },\n    onBeforeChange: noop,\n    onChange: noop,\n    onAfterChange: noop,\n    included: true,\n    disabled: false,\n    dots: false,\n    vertical: false,\n    reverse: false,\n    trackStyle: [{}],\n    handleStyle: [{}],\n    railStyle: {},\n    dotStyle: {},\n    activeDotStyle: {}\n  }), _temp;\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-slider/es/common/createSlider.js"],"names":["_objectWithoutProperties","_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_get","_inherits","React","PropTypes","addEventListener","classNames","warning","Steps","Marks","Handle","utils","noop","createSlider","Component","_class","_temp","_Component","ComponentEnhancer","props","_this","__proto__","Object","getPrototypeOf","call","onMouseDown","e","button","isVertical","vertical","position","getMousePosition","isEventFromHandle","handlesRefs","dragOffset","handlePosition","getHandleCenterPosition","target","removeDocumentEvents","onStart","addDocumentMouseEvents","onTouchStart","isNotTouchEvent","getTouchPosition","addDocumentTouchEvents","pauseEvent","onFocus","_this$props","onBlur","onEnd","onMouseUp","prevMovedHandleIndex","clickFocus","onMouseMove","sliderRef","onMove","onTouchMove","onKeyDown","onKeyboard","onClickMarkLabel","value","stopPropagation","onChange","setState","saveSlider","slider","step","max","min","isPointDiffEven","isFinite","Math","floor","key","componentDidMount","document","ownerDocument","_props","autoFocus","disabled","focus","componentWillUnmount","prototype","getSliderStart","_props2","reverse","rect","getBoundingClientRect","bottom","top","window","pageXOffset","right","left","getSliderLength","coords","height","width","onTouchMoveListener","onTouchUpListener","onMouseMoveListener","onMouseUpListener","remove","blur","_this2","keys","forEach","calcValue","offset","_props3","ratio","abs","calcValueByPos","sign","pixelOffset","nextValue","trimAlignValue","calcOffset","_props4","saveHandle","index","handle","render","_classNames","_props5","prefixCls","className","marks","dots","included","children","maximumTrackStyle","style","railStyle","dotStyle","activeDotStyle","_get$call","tracks","handles","sliderClassName","length","createElement","ref","lowerBound","getLowerBound","upperBound","getUpperBound","onClickLabel","displayName","propTypes","number","object","bool","string","any","onBeforeChange","func","onAfterChange","minimumTrackStyle","handleStyle","oneOfType","arrayOf","trackStyle","defaultProps","_ref","restProps","dragging"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _get from 'babel-runtime/helpers/get';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport classNames from 'classnames';\nimport warning from 'warning';\nimport Steps from './Steps';\nimport Marks from './Marks';\nimport Handle from '../Handle';\nimport * as utils from '../utils';\n\nfunction noop() {}\n\nexport default function createSlider(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_Component) {\n    _inherits(ComponentEnhancer, _Component);\n\n    function ComponentEnhancer(props) {\n      _classCallCheck(this, ComponentEnhancer);\n\n      var _this = _possibleConstructorReturn(this, (ComponentEnhancer.__proto__ || Object.getPrototypeOf(ComponentEnhancer)).call(this, props));\n\n      _this.onMouseDown = function (e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n        _this.removeDocumentEvents();\n        _this.onStart(position);\n        _this.addDocumentMouseEvents();\n      };\n\n      _this.onTouchStart = function (e) {\n        if (utils.isNotTouchEvent(e)) return;\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n        _this.onStart(position);\n        _this.addDocumentTouchEvents();\n        utils.pauseEvent(e);\n      };\n\n      _this.onFocus = function (e) {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            vertical = _this$props.vertical;\n\n        if (utils.isEventFromHandle(e, _this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          _this.dragOffset = 0;\n          _this.onStart(handlePosition);\n          utils.pauseEvent(e);\n          if (onFocus) {\n            onFocus(e);\n          }\n        }\n      };\n\n      _this.onBlur = function (e) {\n        var onBlur = _this.props.onBlur;\n\n        _this.onEnd();\n        if (onBlur) {\n          onBlur(e);\n        }\n      };\n\n      _this.onMouseUp = function () {\n        if (_this.handlesRefs[_this.prevMovedHandleIndex]) {\n          _this.handlesRefs[_this.prevMovedHandleIndex].clickFocus();\n        }\n      };\n\n      _this.onMouseMove = function (e) {\n        if (!_this.sliderRef) {\n          _this.onEnd();\n          return;\n        }\n        var position = utils.getMousePosition(_this.props.vertical, e);\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onTouchMove = function (e) {\n        if (utils.isNotTouchEvent(e) || !_this.sliderRef) {\n          _this.onEnd();\n          return;\n        }\n\n        var position = utils.getTouchPosition(_this.props.vertical, e);\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onKeyDown = function (e) {\n        if (_this.sliderRef && utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.onKeyboard(e);\n        }\n      };\n\n      _this.onClickMarkLabel = function (e, value) {\n        e.stopPropagation();\n        _this.onChange({ value: value });\n        _this.setState({ value: value }, function () {\n          return _this.onEnd(true);\n        });\n      };\n\n      _this.saveSlider = function (slider) {\n        _this.sliderRef = slider;\n      };\n\n      var step = props.step,\n          max = props.max,\n          min = props.min;\n\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n      warning(step && Math.floor(step) === step ? isPointDiffEven : true, 'Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)', max - min, step);\n      _this.handlesRefs = {};\n      return _this;\n    }\n\n    _createClass(ComponentEnhancer, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        this.document = this.sliderRef && this.sliderRef.ownerDocument;\n\n        var _props = this.props,\n            autoFocus = _props.autoFocus,\n            disabled = _props.disabled;\n\n        if (autoFocus && !disabled) {\n          this.focus();\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (_get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this)) _get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this).call(this);\n        this.removeDocumentEvents();\n      }\n    }, {\n      key: 'getSliderStart',\n      value: function getSliderStart() {\n        var slider = this.sliderRef;\n        var _props2 = this.props,\n            vertical = _props2.vertical,\n            reverse = _props2.reverse;\n\n        var rect = slider.getBoundingClientRect();\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      }\n    }, {\n      key: 'getSliderLength',\n      value: function getSliderLength() {\n        var slider = this.sliderRef;\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.props.vertical ? coords.height : coords.width;\n      }\n    }, {\n      key: 'addDocumentTouchEvents',\n      value: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = addEventListener(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = addEventListener(this.document, 'touchend', this.onEnd);\n      }\n    }, {\n      key: 'addDocumentMouseEvents',\n      value: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = addEventListener(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = addEventListener(this.document, 'mouseup', this.onEnd);\n      }\n    }, {\n      key: 'removeDocumentEvents',\n      value: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      }\n    }, {\n      key: 'focus',\n      value: function focus() {\n        if (!this.props.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      }\n    }, {\n      key: 'blur',\n      value: function blur() {\n        var _this2 = this;\n\n        if (!this.props.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this2.handlesRefs[key] && _this2.handlesRefs[key].blur) {\n              _this2.handlesRefs[key].blur();\n            }\n          });\n        }\n      }\n    }, {\n      key: 'calcValue',\n      value: function calcValue(offset) {\n        var _props3 = this.props,\n            vertical = _props3.vertical,\n            min = _props3.min,\n            max = _props3.max;\n\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      }\n    }, {\n      key: 'calcValueByPos',\n      value: function calcValueByPos(position) {\n        var sign = this.props.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      }\n    }, {\n      key: 'calcOffset',\n      value: function calcOffset(value) {\n        var _props4 = this.props,\n            min = _props4.min,\n            max = _props4.max;\n\n        var ratio = (value - min) / (max - min);\n        return ratio * 100;\n      }\n    }, {\n      key: 'saveHandle',\n      value: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _props5 = this.props,\n            prefixCls = _props5.prefixCls,\n            className = _props5.className,\n            marks = _props5.marks,\n            dots = _props5.dots,\n            step = _props5.step,\n            included = _props5.included,\n            disabled = _props5.disabled,\n            vertical = _props5.vertical,\n            reverse = _props5.reverse,\n            min = _props5.min,\n            max = _props5.max,\n            children = _props5.children,\n            maximumTrackStyle = _props5.maximumTrackStyle,\n            style = _props5.style,\n            railStyle = _props5.railStyle,\n            dotStyle = _props5.dotStyle,\n            activeDotStyle = _props5.activeDotStyle;\n\n        var _get$call = _get(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'render', this).call(this),\n            tracks = _get$call.tracks,\n            handles = _get$call.handles;\n\n        var sliderClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-with-marks', Object.keys(marks).length), _defineProperty(_classNames, prefixCls + '-disabled', disabled), _defineProperty(_classNames, prefixCls + '-vertical', vertical), _defineProperty(_classNames, className, className), _classNames));\n        return React.createElement(\n          'div',\n          {\n            ref: this.saveSlider,\n            className: sliderClassName,\n            onTouchStart: disabled ? noop : this.onTouchStart,\n            onMouseDown: disabled ? noop : this.onMouseDown,\n            onMouseUp: disabled ? noop : this.onMouseUp,\n            onKeyDown: disabled ? noop : this.onKeyDown,\n            onFocus: disabled ? noop : this.onFocus,\n            onBlur: disabled ? noop : this.onBlur,\n            style: style\n          },\n          React.createElement('div', {\n            className: prefixCls + '-rail',\n            style: _extends({}, maximumTrackStyle, railStyle)\n          }),\n          tracks,\n          React.createElement(Steps, {\n            prefixCls: prefixCls,\n            vertical: vertical,\n            reverse: reverse,\n            marks: marks,\n            dots: dots,\n            step: step,\n            included: included,\n            lowerBound: this.getLowerBound(),\n            upperBound: this.getUpperBound(),\n            max: max,\n            min: min,\n            dotStyle: dotStyle,\n            activeDotStyle: activeDotStyle\n          }),\n          handles,\n          React.createElement(Marks, {\n            className: prefixCls + '-mark',\n            onClickLabel: disabled ? noop : this.onClickMarkLabel,\n            vertical: vertical,\n            marks: marks,\n            included: included,\n            lowerBound: this.getLowerBound(),\n            upperBound: this.getUpperBound(),\n            max: max,\n            min: min,\n            reverse: reverse\n          }),\n          children\n        );\n      }\n    }]);\n\n    return ComponentEnhancer;\n  }(Component), _class.displayName = 'ComponentEnhancer(' + Component.displayName + ')', _class.propTypes = _extends({}, Component.propTypes, {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n    included: PropTypes.bool,\n    className: PropTypes.string,\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.bool,\n    children: PropTypes.any,\n    onBeforeChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onAfterChange: PropTypes.func,\n    handle: PropTypes.func,\n    dots: PropTypes.bool,\n    vertical: PropTypes.bool,\n    style: PropTypes.object,\n    reverse: PropTypes.bool,\n    minimumTrackStyle: PropTypes.object, // just for compatibility, will be deperecate\n    maximumTrackStyle: PropTypes.object, // just for compatibility, will be deperecate\n    handleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    trackStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)]),\n    railStyle: PropTypes.object,\n    dotStyle: PropTypes.object,\n    activeDotStyle: PropTypes.object,\n    autoFocus: PropTypes.bool,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func\n  }), _class.defaultProps = _extends({}, Component.defaultProps, {\n    prefixCls: 'rc-slider',\n    className: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: {},\n    handle: function handle(_ref) {\n      var index = _ref.index,\n          restProps = _objectWithoutProperties(_ref, ['index']);\n\n      delete restProps.dragging;\n      if (restProps.value === null) {\n        return null;\n      }\n\n      return React.createElement(Handle, _extends({}, restProps, { key: index }));\n    },\n\n    onBeforeChange: noop,\n    onChange: noop,\n    onAfterChange: noop,\n    included: true,\n    disabled: false,\n    dots: false,\n    vertical: false,\n    reverse: false,\n    trackStyle: [{}],\n    handleStyle: [{}],\n    railStyle: {},\n    dotStyle: {},\n    activeDotStyle: {}\n  }), _temp;\n}"]},"metadata":{},"sourceType":"module"}