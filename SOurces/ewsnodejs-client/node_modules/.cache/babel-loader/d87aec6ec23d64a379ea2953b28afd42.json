{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\n\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SuggestionPortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n          suggestionRegex = props.suggestionRegex,\n          decoratedText = props.decoratedText;\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n\n      _this.updatePortalPosition(_this.props);\n\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n\n    this.updatePortalPosition(nextProps);\n  };\n\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        offsetKey = _props.offsetKey,\n        mentionStore = _props.mentionStore;\n    mentionStore.inActiveSuggestion({\n      offsetKey: offsetKey\n    });\n  };\n\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n\n    var offsetKey = props.offsetKey,\n        mentionStore = props.mentionStore;\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n\n    return React.createElement('span', {\n      ref: function ref(node) {\n        _this3.searchPortal = node;\n      },\n      style: this.props.style\n    }, this.props.children);\n  };\n\n  return SuggestionPortal;\n}(React.Component);\n\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-editor-mention/es/component/SuggestionPortal.react.js"],"names":["_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","getOffset","SuggestionPortal","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","matchDecorates","props","callbacks","suggestionRegex","decoratedText","matches","exec","trigger","updatePortalPosition","setEditorState","getEditorState","prototype","componentWillMount","componentWillReceiveProps","nextProps","componentWillUnmount","_props","offsetKey","mentionStore","inActiveSuggestion","_this2","updateSuggestion","position","element","searchPortal","rect","left","top","width","offsetWidth","height","offsetHeight","render","_this3","createElement","ref","node","style","children","Component","propTypes","any","object","string"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\n\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SuggestionPortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n          suggestionRegex = props.suggestionRegex,\n          decoratedText = props.decoratedText;\n\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n      _this.updatePortalPosition(_this.props);\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n    this.updatePortalPosition(nextProps);\n  };\n\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        offsetKey = _props.offsetKey,\n        mentionStore = _props.mentionStore;\n\n    mentionStore.inActiveSuggestion({ offsetKey: offsetKey });\n  };\n\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n\n    var offsetKey = props.offsetKey,\n        mentionStore = props.mentionStore;\n\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n\n    return React.createElement(\n      'span',\n      { ref: function ref(node) {\n          _this3.searchPortal = node;\n        }, style: this.props.style },\n      this.props.children\n    );\n  };\n\n  return SuggestionPortal;\n}(React.Component);\n\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;"]},"metadata":{},"sourceType":"module"}