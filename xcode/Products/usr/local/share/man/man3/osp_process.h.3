.TH "libosp/osp_process/osp_process.h" 3 "Thu Jun 14 2018" "Open Speech Platform" \" -*- nroff -*-
.ad l
.nh
.SH NAME
libosp/osp_process/osp_process.h
.SH SYNOPSIS
.br
.PP
\fC#include 'coeffs\&.h'\fP
.br
\fC#include 'constants\&.h'\fP
.br
\fC#include 'speech_enhancement\&.h'\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "int \fBosp_init\fP (unsigned int frame_size, int sample_rate, \fBosp_user_data\fP *osp_data)"
.br
.RI "This file groups all of the different OSP library calls in one place\&. This is more of an example way of using the different parts of the OSP libraries to implement a hearing aid algorith with MHA and AFC all in one place\&. "
.ti -1c
.RI "void \fBosp_process_audio\fP (\fBosp_user_data\fP *osp, float *x_nL, float *x_nR, float *outL, float *outR, size_t len)"
.br
.RI "Function to perform Master Hearing Aid (MHA) processing on the input signal for both channels\&. "
.ti -1c
.RI "unsigned int \fBosp_get_num_bands\fP ()"
.br
.RI "Function to get the number of Sub-Bands\&. "
.ti -1c
.RI "void \fBosp_close\fP ()"
.br
.RI "Wrapper function to free all the modules of Master Hearing Aid (MHA) "
.ti -1c
.RI "void \fBosp_dump_afc_filter\fP ()"
.br
.RI "Function to dump AFC filter taps for both left and right channels\&. "
.ti -1c
.RI "void \fBosp_data_init\fP (\fBosp_user_data\fP *user_data)"
.br
.RI "Helper function for initializing Master Hearing Aid (MHA) parameters\&. "
.ti -1c
.RI "void \fBosp_data_set_gain\fP (\fBosp_user_data\fP *user_data, int gain)"
.br
.RI "Helper function for initializing gain parameters for WDRC with a constant gain\&. "
.ti -1c
.RI "void \fBosp_data_set_nh\fP (\fBosp_user_data\fP *user_data)"
.br
.RI "Helper function for initializing gain parameters for WDRC with NH audiogram\&. "
.ti -1c
.RI "void \fBosp_data_set_n2\fP (\fBosp_user_data\fP *user_data)"
.br
.RI "Helper function for initializing gain parameters for WDRC with N2 audiogram\&. "
.ti -1c
.RI "void \fBosp_data_set_n4\fP (\fBosp_user_data\fP *user_data)"
.br
.RI "Helper function for initializing gain parameters for WDRC with N4 audiogram\&. "
.ti -1c
.RI "void \fBosp_data_set_s2\fP (\fBosp_user_data\fP *user_data)"
.br
.RI "Helper function for initializing gain parameters for WDRC with S2 audiogram\&. "
.in -1c
.SH "Function Documentation"
.PP 
.SS "void osp_close ()"

.PP
Wrapper function to free all the modules of Master Hearing Aid (MHA) 
.SS "void osp_data_init (\fBosp_user_data\fP * user_data)"

.PP
Helper function for initializing Master Hearing Aid (MHA) parameters\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to an osp_user_data instance which will be allocated in the function 
.RE
.PP

.SS "void osp_data_set_gain (\fBosp_user_data\fP * user_data, int gain)"

.PP
Helper function for initializing gain parameters for WDRC with a constant gain\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to the instance of osp_user_data initialized by osp_data_init 
.br
\fIgain\fP The constant gain value 
.RE
.PP

.SS "void osp_data_set_n2 (\fBosp_user_data\fP * user_data)"

.PP
Helper function for initializing gain parameters for WDRC with N2 audiogram\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to the instance of osp_user_data initialized by osp_data_init 
.RE
.PP

.SS "void osp_data_set_n4 (\fBosp_user_data\fP * user_data)"

.PP
Helper function for initializing gain parameters for WDRC with N4 audiogram\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to the instance of osp_user_data initialized by osp_data_init 
.RE
.PP

.SS "void osp_data_set_nh (\fBosp_user_data\fP * user_data)"

.PP
Helper function for initializing gain parameters for WDRC with NH audiogram\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to the instance of osp_user_data initialized by osp_data_init 
.RE
.PP

.SS "void osp_data_set_s2 (\fBosp_user_data\fP * user_data)"

.PP
Helper function for initializing gain parameters for WDRC with S2 audiogram\&. 
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.PP
\fBosp_data_set_gain\fP, \fBosp_data_set_nh\fP, \fBosp_data_set_n2\fP ,\fBosp_data_set_n4\fP ,\fBosp_data_set_s2\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIuser_data\fP Pointer to the instance of osp_user_data initialized by osp_data_init 
.RE
.PP

.SS "void osp_dump_afc_filter ()"

.PP
Function to dump AFC filter taps for both left and right channels\&. File names can be changed by changing AFC_FILTER_TAP_FILE_L, AFC_FILTER_TAP_FILE_R in \fBconstants\&.h\fP 
.SS "unsigned int osp_get_num_bands ()"

.PP
Function to get the number of Sub-Bands\&. 
.PP
\fBReturns:\fP
.RS 4
int Number of Sub-Bands give by NUM_BANDS 
.RE
.PP

.SS "int osp_init (unsigned int frame_size, int sample_rate, \fBosp_user_data\fP * osp_data)"

.PP
This file groups all of the different OSP library calls in one place\&. This is more of an example way of using the different parts of the OSP libraries to implement a hearing aid algorith with MHA and AFC all in one place\&. Wrapper function to initalize all the modules of Master Hearing Aid (MHA)
.PP
\fBParameters:\fP
.RS 4
\fIframe_size\fP The number of samples in a frame\&. i\&.e\&. the number of samples to process 
.br
\fIsample_rate\fP The sample rate at which all MHA processing will be done 
.br
\fIafc_adaptation_type\fP The type of AFC adaptation 
.RE
.PP
\fBReturns:\fP
.RS 4
0 if successful initialization\&. -1 otherwise 
.RE
.PP

.SS "void osp_process_audio (\fBosp_user_data\fP * osp, float * x_nL, float * x_nR, float * outL, float * outR, size_t len)"

.PP
Function to perform Master Hearing Aid (MHA) processing on the input signal for both channels\&. If STEREO is false, only the right channel is processed
.PP
\fBSee also:\fP
.RS 4
\fBosp_user_data\fP 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIosp\fP The instance of the osp_user_data structure that was initialized in osp_data_init\&. This contains all the MHA parameters\&. 
.br
\fIx_nL\fP Pointer to the array containing left channel input 
.br
\fIx_nR\fP Pointer to the array containing right channel input 
.br
\fIoutL\fP Pointer to the array to store the output of MHA processing on left channel input 
.br
\fIoutR\fP Pointer to the array to store the output of MHA processing on right channel input 
.br
\fIlen\fP The length of the input signal e_n that is given for processing\&. i\&.e\&. frame length\&. 
.RE
.PP

.SH "Author"
.PP 
Generated automatically by Doxygen for Open Speech Platform from the source code\&.
