{"ast":null,"code":"function getWord(text, position) {\n  var str = String(text);\n  /* eslint no-bitwise:0 */\n\n  var pos = Number(position) >>> 0; // Search for the word's beginning and end.\n\n  var left = str.slice(0, pos + 1).search(/\\S+$/);\n  var right = str.slice(pos).search(/\\s/);\n\n  if (right < 0) {\n    return {\n      word: str.slice(left),\n      begin: left,\n      end: str.length\n    };\n  } // Return the word, using the located bounds to extract it from the string.\n\n\n  return {\n    word: str.slice(left, right + pos),\n    begin: left,\n    end: right + pos\n  };\n}\n\nexport default function getSearchWord(editorState, selection) {\n  var anchorKey = selection.getAnchorKey();\n  var anchorOffset = selection.getAnchorOffset() - 1;\n  var currentContent = editorState.getCurrentContent();\n  var currentBlock = currentContent.getBlockForKey(anchorKey);\n\n  if (currentBlock) {\n    var blockText = currentBlock.getText();\n    return getWord(blockText, anchorOffset);\n  }\n\n  return '';\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-editor-mention/es/utils/getSearchWord.js"],"names":["getWord","text","position","str","String","pos","Number","left","slice","search","right","word","begin","end","length","getSearchWord","editorState","selection","anchorKey","getAnchorKey","anchorOffset","getAnchorOffset","currentContent","getCurrentContent","currentBlock","getBlockForKey","blockText","getText"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,QAAvB,EAAiC;AAC/B,MAAIC,GAAG,GAAGC,MAAM,CAACH,IAAD,CAAhB;AACA;;AACA,MAAII,GAAG,GAAGC,MAAM,CAACJ,QAAD,CAAN,KAAqB,CAA/B,CAH+B,CAK/B;;AACA,MAAIK,IAAI,GAAGJ,GAAG,CAACK,KAAJ,CAAU,CAAV,EAAaH,GAAG,GAAG,CAAnB,EAAsBI,MAAtB,CAA6B,MAA7B,CAAX;AACA,MAAIC,KAAK,GAAGP,GAAG,CAACK,KAAJ,CAAUH,GAAV,EAAeI,MAAf,CAAsB,IAAtB,CAAZ;;AAEA,MAAIC,KAAK,GAAG,CAAZ,EAAe;AACb,WAAO;AACLC,MAAAA,IAAI,EAAER,GAAG,CAACK,KAAJ,CAAUD,IAAV,CADD;AAELK,MAAAA,KAAK,EAAEL,IAFF;AAGLM,MAAAA,GAAG,EAAEV,GAAG,CAACW;AAHJ,KAAP;AAKD,GAf8B,CAiB/B;;;AACA,SAAO;AACLH,IAAAA,IAAI,EAAER,GAAG,CAACK,KAAJ,CAAUD,IAAV,EAAgBG,KAAK,GAAGL,GAAxB,CADD;AAELO,IAAAA,KAAK,EAAEL,IAFF;AAGLM,IAAAA,GAAG,EAAEH,KAAK,GAAGL;AAHR,GAAP;AAKD;;AAED,eAAe,SAASU,aAAT,CAAuBC,WAAvB,EAAoCC,SAApC,EAA+C;AAC5D,MAAIC,SAAS,GAAGD,SAAS,CAACE,YAAV,EAAhB;AACA,MAAIC,YAAY,GAAGH,SAAS,CAACI,eAAV,KAA8B,CAAjD;AACA,MAAIC,cAAc,GAAGN,WAAW,CAACO,iBAAZ,EAArB;AACA,MAAIC,YAAY,GAAGF,cAAc,CAACG,cAAf,CAA8BP,SAA9B,CAAnB;;AACA,MAAIM,YAAJ,EAAkB;AAChB,QAAIE,SAAS,GAAGF,YAAY,CAACG,OAAb,EAAhB;AACA,WAAO3B,OAAO,CAAC0B,SAAD,EAAYN,YAAZ,CAAd;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["function getWord(text, position) {\n  var str = String(text);\n  /* eslint no-bitwise:0 */\n  var pos = Number(position) >>> 0;\n\n  // Search for the word's beginning and end.\n  var left = str.slice(0, pos + 1).search(/\\S+$/);\n  var right = str.slice(pos).search(/\\s/);\n\n  if (right < 0) {\n    return {\n      word: str.slice(left),\n      begin: left,\n      end: str.length\n    };\n  }\n\n  // Return the word, using the located bounds to extract it from the string.\n  return {\n    word: str.slice(left, right + pos),\n    begin: left,\n    end: right + pos\n  };\n}\n\nexport default function getSearchWord(editorState, selection) {\n  var anchorKey = selection.getAnchorKey();\n  var anchorOffset = selection.getAnchorOffset() - 1;\n  var currentContent = editorState.getCurrentContent();\n  var currentBlock = currentContent.getBlockForKey(anchorKey);\n  if (currentBlock) {\n    var blockText = currentBlock.getText();\n    return getWord(blockText, anchorOffset);\n  }\n  return '';\n}"]},"metadata":{},"sourceType":"module"}