{"ast":null,"code":"import { Modifier, EditorState } from 'draft-js';\nimport getSearchWord from './getSearchWord';\nexport default function insertMention(editorState, mention, data, mode) {\n  var entityMode = mode === 'immutable' ? 'IMMUTABLE' : 'MUTABLE';\n  var selection = editorState.getSelection();\n  var contentState = editorState.getCurrentContent();\n  contentState.createEntity('mention', entityMode, data || mention);\n  var searchWord = getSearchWord(editorState, selection);\n  var begin = searchWord.begin,\n      end = searchWord.end;\n  var replacedContent = Modifier.replaceText(contentState, selection.merge({\n    anchorOffset: begin,\n    focusOffset: end\n  }), mention, null, contentState.getLastCreatedEntityKey());\n  var InsertSpaceContent = Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');\n  var newEditorState = EditorState.push(editorState, InsertSpaceContent, 'insert-mention');\n  return EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/rc-editor-mention/es/utils/insertMention.js"],"names":["Modifier","EditorState","getSearchWord","insertMention","editorState","mention","data","mode","entityMode","selection","getSelection","contentState","getCurrentContent","createEntity","searchWord","begin","end","replacedContent","replaceText","merge","anchorOffset","focusOffset","getLastCreatedEntityKey","InsertSpaceContent","insertText","getSelectionAfter","newEditorState","push","forceSelection"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,UAAtC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,eAAe,SAASC,aAAT,CAAuBC,WAAvB,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmDC,IAAnD,EAAyD;AACtE,MAAIC,UAAU,GAAGD,IAAI,KAAK,WAAT,GAAuB,WAAvB,GAAqC,SAAtD;AACA,MAAIE,SAAS,GAAGL,WAAW,CAACM,YAAZ,EAAhB;AACA,MAAIC,YAAY,GAAGP,WAAW,CAACQ,iBAAZ,EAAnB;AAEAD,EAAAA,YAAY,CAACE,YAAb,CAA0B,SAA1B,EAAqCL,UAArC,EAAiDF,IAAI,IAAID,OAAzD;AACA,MAAIS,UAAU,GAAGZ,aAAa,CAACE,WAAD,EAAcK,SAAd,CAA9B;AACA,MAAIM,KAAK,GAAGD,UAAU,CAACC,KAAvB;AAAA,MACIC,GAAG,GAAGF,UAAU,CAACE,GADrB;AAGA,MAAIC,eAAe,GAAGjB,QAAQ,CAACkB,WAAT,CAAqBP,YAArB,EAAmCF,SAAS,CAACU,KAAV,CAAgB;AACvEC,IAAAA,YAAY,EAAEL,KADyD;AAEvEM,IAAAA,WAAW,EAAEL;AAF0D,GAAhB,CAAnC,EAGlBX,OAHkB,EAGT,IAHS,EAGHM,YAAY,CAACW,uBAAb,EAHG,CAAtB;AAKA,MAAIC,kBAAkB,GAAGvB,QAAQ,CAACwB,UAAT,CAAoBP,eAApB,EAAqCA,eAAe,CAACQ,iBAAhB,EAArC,EAA0E,GAA1E,CAAzB;AAEA,MAAIC,cAAc,GAAGzB,WAAW,CAAC0B,IAAZ,CAAiBvB,WAAjB,EAA8BmB,kBAA9B,EAAkD,gBAAlD,CAArB;AACA,SAAOtB,WAAW,CAAC2B,cAAZ,CAA2BF,cAA3B,EAA2CH,kBAAkB,CAACE,iBAAnB,EAA3C,CAAP;AACD","sourcesContent":["import { Modifier, EditorState } from 'draft-js';\nimport getSearchWord from './getSearchWord';\n\nexport default function insertMention(editorState, mention, data, mode) {\n  var entityMode = mode === 'immutable' ? 'IMMUTABLE' : 'MUTABLE';\n  var selection = editorState.getSelection();\n  var contentState = editorState.getCurrentContent();\n\n  contentState.createEntity('mention', entityMode, data || mention);\n  var searchWord = getSearchWord(editorState, selection);\n  var begin = searchWord.begin,\n      end = searchWord.end;\n\n  var replacedContent = Modifier.replaceText(contentState, selection.merge({\n    anchorOffset: begin,\n    focusOffset: end\n  }), mention, null, contentState.getLastCreatedEntityKey());\n\n  var InsertSpaceContent = Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');\n\n  var newEditorState = EditorState.push(editorState, InsertSpaceContent, 'insert-mention');\n  return EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());\n}"]},"metadata":{},"sourceType":"module"}