{"ast":null,"code":"import { slice } from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function () {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function (_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function (_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function (_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/d3-shape/src/stack.js"],"names":["slice","constant","offsetNone","orderNone","stackValue","d","key","keys","order","offset","value","stack","data","kz","apply","arguments","i","m","length","n","sz","Array","oz","ki","si","j","sij","index","_","call"],"mappings":"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","sourcesContent":["import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n"]},"metadata":{},"sourceType":"module"}