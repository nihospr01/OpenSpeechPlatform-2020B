{"ast":null,"code":"/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    } // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n\n\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail; // ie/webkit\n\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    } // gecko\n\n\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    } // Gecko\n\n\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    } // Webkit\n\n\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    } // 默认 deltaY (ie)\n\n\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button; // Calculate pageX/Y if missing and clientX/Y available\n\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n\n\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    } // add relatedTarget, if necessary\n\n\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent; // in case dom event has been mark as default prevented by lower dom node\n\n  var isDefaultPrevented = retFalse;\n\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n  l = props.length; // clone properties of the original event object\n\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  } // fix target property, if necessary\n\n\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  } // check if target is a text node (safari)\n\n\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent; // if preventDefault exists run it on the original event\n\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent; // if stopPropagation exists run it on the original event\n\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/add-dom-event-listener/lib/EventObject.js"],"names":["Object","defineProperty","exports","value","_interopRequireDefault","obj","__esModule","_EventBaseObject","require","_EventBaseObject2","_objectAssign","_objectAssign2","TRUE","FALSE","commonProps","isNullOrUndefined","w","undefined","eventNormalizers","reg","props","fix","event","nativeEvent","which","charCode","keyCode","metaKey","ctrlKey","deltaX","deltaY","delta","wheelDelta","axis","wheelDeltaY","wheelDeltaX","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","eventDoc","doc","body","target","button","pageX","clientX","ownerDocument","document","documentElement","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","relatedTarget","fromElement","toElement","retTrue","retFalse","DomEventObject","type","isNative","stopPropagation","cancelBubble","call","isDefaultPrevented","defaultPrevented","getPreventDefault","returnValue","fixFns","fixFn","l","prop","concat","forEach","normalizer","match","push","length","srcElement","nodeType","parentNode","timeStamp","Date","now","EventBaseObjectProto","prototype","constructor","preventDefault","e","module"],"mappings":"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","sourcesContent":["/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    }\n\n    // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail;\n\n    // ie/webkit\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    }\n\n    // gecko\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    }\n\n    // Gecko\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    }\n\n    // Webkit\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    }\n\n    // 默认 deltaY (ie)\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button;\n\n    // Calculate pageX/Y if missing and clientX/Y available\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n\n    // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    }\n\n    // add relatedTarget, if necessary\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent;\n\n  // in case dom event has been mark as default prevented by lower dom node\n  var isDefaultPrevented = retFalse;\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n\n  l = props.length;\n\n  // clone properties of the original event object\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  }\n\n  // fix target property, if necessary\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  }\n\n  // check if target is a text node (safari)\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent;\n\n    // if preventDefault exists run it on the original event\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent;\n\n    // if stopPropagation exists run it on the original event\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\n\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}