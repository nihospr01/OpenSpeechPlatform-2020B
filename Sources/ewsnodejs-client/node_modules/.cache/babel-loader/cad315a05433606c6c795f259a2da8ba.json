{"ast":null,"code":"// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n} // TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\n\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/node_modules/d3-contour/src/blur.js"],"names":["blurX","source","target","r","n","width","m","height","w","j","i","sr","data","Math","min","blurY"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,SAASA,KAAT,CAAeC,MAAf,EAAuBC,MAAvB,EAA+BC,CAA/B,EAAkC;AACvC,MAAIC,CAAC,GAAGH,MAAM,CAACI,KAAf;AAAA,MACIC,CAAC,GAAGL,MAAM,CAACM,MADf;AAAA,MAEIC,CAAC,GAAG,CAACL,CAAC,IAAI,CAAN,IAAW,CAFnB;;AAGA,OAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuB,EAAEG,CAAzB,EAA4B;AAC1B,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAG,CAArB,EAAwBD,CAAC,GAAGN,CAAC,GAAGD,CAAhC,EAAmC,EAAEO,CAArC,EAAwC;AACtC,UAAIA,CAAC,GAAGN,CAAR,EAAW;AACTO,QAAAA,EAAE,IAAIV,MAAM,CAACW,IAAP,CAAYF,CAAC,GAAGD,CAAC,GAAGL,CAApB,CAAN;AACD;;AACD,UAAIM,CAAC,IAAIP,CAAT,EAAY;AACV,YAAIO,CAAC,IAAIF,CAAT,EAAY;AACVG,UAAAA,EAAE,IAAIV,MAAM,CAACW,IAAP,CAAYF,CAAC,GAAGF,CAAJ,GAAQC,CAAC,GAAGL,CAAxB,CAAN;AACD;;AACDF,QAAAA,MAAM,CAACU,IAAP,CAAYF,CAAC,GAAGP,CAAJ,GAAQM,CAAC,GAAGL,CAAxB,IAA6BO,EAAE,GAAGE,IAAI,CAACC,GAAL,CAASJ,CAAC,GAAG,CAAb,EAAgBN,CAAC,GAAG,CAAJ,GAAQI,CAAR,GAAYE,CAA5B,EAA+BF,CAA/B,CAAlC;AACD;AACF;AACF;AACF,C,CAED;AACA;AACA;;AACA,OAAO,SAASO,KAAT,CAAed,MAAf,EAAuBC,MAAvB,EAA+BC,CAA/B,EAAkC;AACvC,MAAIC,CAAC,GAAGH,MAAM,CAACI,KAAf;AAAA,MACIC,CAAC,GAAGL,MAAM,CAACM,MADf;AAAA,MAEIC,CAAC,GAAG,CAACL,CAAC,IAAI,CAAN,IAAW,CAFnB;;AAGA,OAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,CAApB,EAAuB,EAAEM,CAAzB,EAA4B;AAC1B,SAAK,IAAID,CAAC,GAAG,CAAR,EAAWE,EAAE,GAAG,CAArB,EAAwBF,CAAC,GAAGH,CAAC,GAAGH,CAAhC,EAAmC,EAAEM,CAArC,EAAwC;AACtC,UAAIA,CAAC,GAAGH,CAAR,EAAW;AACTK,QAAAA,EAAE,IAAIV,MAAM,CAACW,IAAP,CAAYF,CAAC,GAAGD,CAAC,GAAGL,CAApB,CAAN;AACD;;AACD,UAAIK,CAAC,IAAIN,CAAT,EAAY;AACV,YAAIM,CAAC,IAAID,CAAT,EAAY;AACVG,UAAAA,EAAE,IAAIV,MAAM,CAACW,IAAP,CAAYF,CAAC,GAAG,CAACD,CAAC,GAAGD,CAAL,IAAUJ,CAA1B,CAAN;AACD;;AACDF,QAAAA,MAAM,CAACU,IAAP,CAAYF,CAAC,GAAG,CAACD,CAAC,GAAGN,CAAL,IAAUC,CAA1B,IAA+BO,EAAE,GAAGE,IAAI,CAACC,GAAL,CAASL,CAAC,GAAG,CAAb,EAAgBH,CAAC,GAAG,CAAJ,GAAQE,CAAR,GAAYC,CAA5B,EAA+BD,CAA/B,CAApC;AACD;AACF;AACF;AACF","sourcesContent":["// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\n// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}