{"ast":null,"code":"import _regeneratorRuntime from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _defineProperty from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{Component}from'react';import PropTypes from'prop-types';import{withStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import Hidden from'@material-ui/core/Hidden';import IconButton from'@material-ui/core/IconButton';import Button from'@material-ui/core/Button';import Drawer from'@material-ui/core/Drawer';import MenuIcon from'@material-ui/icons/Menu';import SideBar from'components/sideBar';import{compose}from'recompose';import Stimulus from'pages/general/stimulus';import ResearcherPage from'pages/general/researcherPage';import SurveyPage from'pages/BST/surveyPage';import PureTonePage from'pages/BST/pureTonePage';import AssessmentPage from'pages/BST/assessment/assessmentPage';import AssessmentSetup from'pages/BST/assessment/assessmentSetup';import QualityAssessmentDemo from'pages/demo/qualityAssessmentDemo';import QualityAssessmentSetup from'pages/demo/qualityAssessmentSetup';import FourAFCPage from'pages/BST/fourAFCPage';import CoarseFitDemo from'pages/demo/coarseFitDemo';import FreppingDemo from'pages/demo/freppingDemo';import ListenerManagement from'pages/admin/listenerManagement';import FileManagement from'pages/admin/fileManagement';import withUserAuth from'context/withUserAuth';import BeamformingDemo from'pages/demo/beamformingDemo';import FourAFCDemo from'pages/demo/FourAFCDemo';import VideoDemo from'pages/demo/videoDemo';import{withRouter,Switch,Route}from'react-router-dom';var sidebarWidth=270;var styles=function styles(theme){return{root:{display:'flex'},appBar:_defineProperty({},theme.breakpoints.up('md'),{width:\"calc(100% - \".concat(sidebarWidth,\"px)\"),marginLeft:sidebarWidth}),menuButton:_defineProperty({marginRight:20},theme.breakpoints.up('md'),{display:'none'}),toolbar:theme.mixins.toolbar,drawer:_defineProperty({},theme.breakpoints.up('md'),{width:sidebarWidth,flexShrink:0}),drawerPaper:{width:sidebarWidth},content:{flexGrow:1,marginTop:70}};};var routes=[{path:\"/listenermanagement\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Listener Management\");},main:function main(){return/*#__PURE__*/React.createElement(ListenerManagement,null);}},{path:\"/filemanagement\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"File Management\");},main:function main(){return/*#__PURE__*/React.createElement(FileManagement,null);}},{path:\"/stimulus\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Stimulus\");},main:function main(){return/*#__PURE__*/React.createElement(Stimulus,null);}},{path:\"/researcherpage\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Researcher Page\");},main:function main(){return/*#__PURE__*/React.createElement(ResearcherPage,null);}},{path:\"/surveypage\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Patient History\");},main:function main(){return/*#__PURE__*/React.createElement(SurveyPage,null);}},{path:\"/PTApage\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Pure Tone Audiogram\",/*#__PURE__*/React.createElement(\"div\",null,\"(Researcher Only)\"));},main:function main(){return/*#__PURE__*/React.createElement(PureTonePage,null);}},{path:\"/assessmentpageSetup/:time\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"User Assessment\");},main:function main(){return/*#__PURE__*/React.createElement(AssessmentSetup,null);}},{path:\"/assessmentpage/:currentIsLeft\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"User Assessment\");},main:function main(){return/*#__PURE__*/React.createElement(AssessmentPage,{showNodeNumber:false});}},{path:\"/qualityAssessmentSetup/:time\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Quality Assessment Demo\");},main:function main(){return/*#__PURE__*/React.createElement(QualityAssessmentSetup,null);}},{path:\"/qualityAssessmentDemo/\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Quality Assessment Demo\");},main:function main(){return/*#__PURE__*/React.createElement(QualityAssessmentDemo,{showNodeNumber:false});}},{path:\"/4AFCpage\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"User Assessment\");},main:function main(){return/*#__PURE__*/React.createElement(FourAFCPage,null);}},{path:\"/coarseFitDemo\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"CoarseFit Demo\");},main:function main(){return/*#__PURE__*/React.createElement(CoarseFitDemo,null);}},{path:\"/freppingDemo\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Frepping Demo\");},main:function main(){return/*#__PURE__*/React.createElement(FreppingDemo,null);}},{path:\"/beamformingDemo\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Beamforming Demo\");},main:function main(){return/*#__PURE__*/React.createElement(BeamformingDemo,null);}},{path:\"/FourAFCDemo\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"4AFC Demo\");},main:function main(){return/*#__PURE__*/React.createElement(FourAFCDemo,null);}},{path:\"/videoDemo\",appBarTitle:function appBarTitle(){return/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:{flexGrow:1}},\"Video Playing Demo\");},main:function main(){return/*#__PURE__*/React.createElement(VideoDemo,null);}}];var MainPage=/*#__PURE__*/function(_Component){_inherits(MainPage,_Component);var _super=_createSuper(MainPage);function MainPage(){var _this;_classCallCheck(this,MainPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={drawerOpen:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var updateUser,_this$props$context,user,loginMode;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateUser=_this.props.context.updateUser;_context.next=3;return updateUser();case 3:_this$props$context=_this.props.context,user=_this$props$context.user,loginMode=_this$props$context.loginMode;console.log(user,loginMode);if(user&&loginMode){if(loginMode==='researcher'){_this.props.history.push('/listenermanagement');}else{_this.props.history.push('/researcherpage');}}else{_this.props.history.push('/login');}case 6:case\"end\":return _context.stop();}}},_callee);}));_this.handleDrawerToggle=function(){_this.setState(function(state){return{drawerOpen:!state.drawerOpen};});};_this.handleLogOut=function(){sessionStorage.clear();window.location.reload();};return _this;}_createClass(MainPage,[{key:\"render\",value:function render(){var classes=this.props.classes;var _this$props$context2=this.props.context,loginMode=_this$props$context2.loginMode,assessmentDone=_this$props$context2.assessmentDone;return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\",className:classes.appBar},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\",edge:\"start\",className:classes.menuButton,onClick:this.handleDrawerToggle},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(Switch,null,routes.map(function(route,index){return/*#__PURE__*/React.createElement(Route,{key:index,path:route.path,component:route.appBarTitle});})),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",color:\"inherit\",styles:{margin:20},onClick:this.handleLogOut},\"Log Out\"))),/*#__PURE__*/React.createElement(\"nav\",{className:classes.drawer},/*#__PURE__*/React.createElement(Hidden,{mdUp:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{classes:{paper:classes.drawerPaper},anchor:\"left\",variant:\"temporary\",open:this.state.drawerOpen,onClose:this.handleDrawerToggle},/*#__PURE__*/React.createElement(SideBar,{loginMode:loginMode,assessmentDone:assessmentDone}))),/*#__PURE__*/React.createElement(Hidden,{smDown:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{classes:{paper:classes.drawerPaper},variant:\"permanent\",open:true},/*#__PURE__*/React.createElement(SideBar,{loginMode:loginMode,assessmentDone:assessmentDone})))),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(Switch,null,routes.map(function(route,index){return/*#__PURE__*/React.createElement(Route,{key:index,path:route.path,component:route.main});}))));}}]);return MainPage;}(Component);MainPage.protoTypes={classes:PropTypes.object.isRequired};export default compose(withUserAuth,withRouter,withStyles(styles))(MainPage);","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/src/pages/general/mainPage.jsx"],"names":["React","Component","PropTypes","withStyles","AppBar","Toolbar","Typography","Hidden","IconButton","Button","Drawer","MenuIcon","SideBar","compose","Stimulus","ResearcherPage","SurveyPage","PureTonePage","AssessmentPage","AssessmentSetup","QualityAssessmentDemo","QualityAssessmentSetup","FourAFCPage","CoarseFitDemo","FreppingDemo","ListenerManagement","FileManagement","withUserAuth","BeamformingDemo","FourAFCDemo","VideoDemo","withRouter","Switch","Route","sidebarWidth","styles","theme","root","display","appBar","breakpoints","up","width","marginLeft","menuButton","marginRight","toolbar","mixins","drawer","flexShrink","drawerPaper","content","flexGrow","marginTop","routes","path","appBarTitle","main","MainPage","state","drawerOpen","componentDidMount","updateUser","props","context","user","loginMode","console","log","history","push","handleDrawerToggle","setState","handleLogOut","sessionStorage","clear","window","location","reload","classes","assessmentDone","map","route","index","margin","paper","protoTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer'; \nimport MenuIcon from '@material-ui/icons/Menu'\nimport SideBar from 'components/sideBar';\nimport { compose } from 'recompose';\nimport Stimulus from 'pages/general/stimulus'\nimport ResearcherPage from 'pages/general/researcherPage';\nimport SurveyPage from 'pages/BST/surveyPage';\nimport PureTonePage from 'pages/BST/pureTonePage';\nimport AssessmentPage from 'pages/BST/assessment/assessmentPage';\nimport AssessmentSetup from 'pages/BST/assessment/assessmentSetup';\nimport QualityAssessmentDemo from 'pages/demo/qualityAssessmentDemo';\nimport QualityAssessmentSetup from 'pages/demo/qualityAssessmentSetup';\nimport FourAFCPage from 'pages/BST/fourAFCPage';\nimport CoarseFitDemo from 'pages/demo/coarseFitDemo';\nimport FreppingDemo from 'pages/demo/freppingDemo';\nimport ListenerManagement from 'pages/admin/listenerManagement';\nimport FileManagement from 'pages/admin/fileManagement';\nimport withUserAuth from 'context/withUserAuth';\nimport BeamformingDemo from 'pages/demo/beamformingDemo';\nimport FourAFCDemo from 'pages/demo/FourAFCDemo';\nimport VideoDemo from 'pages/demo/videoDemo';\nimport { withRouter, Switch, Route } from 'react-router-dom';\nconst sidebarWidth = 270;\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n    },\n    appBar: {\n        [theme.breakpoints.up('md')]: {\n            width: `calc(100% - ${sidebarWidth}px)`,\n            marginLeft: sidebarWidth,\n        },\n    },\n    menuButton:{\n        marginRight: 20,\n        [theme.breakpoints.up('md')]:{\n          display: 'none',\n        },\n    },\n    toolbar: theme.mixins.toolbar,\n    drawer:{\n        [theme.breakpoints.up('md')]: {\n          width: sidebarWidth,\n          flexShrink: 0,\n        },\n    },\n    drawerPaper:{\n        width: sidebarWidth\n    },\n    content: {\n        flexGrow: 1,\n        marginTop: 70\n    }\n});\n\nconst routes = [\n    {\n        path: \"/listenermanagement\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                            Listener Management\n                            </Typography>,\n        main: ()=><ListenerManagement />\n    },\n    {\n        path: \"/filemanagement\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              File Management\n                            </Typography>,\n        main: ()=><FileManagement />\n    },\n    {\n        path: \"/stimulus\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                            Stimulus\n                        </Typography>,\n        main: ()=><Stimulus />\n    },\n    {\n        path: \"/researcherpage\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                            Researcher Page\n                        </Typography>,\n        main: ()=><ResearcherPage />\n    },  \n    {\n        path: \"/surveypage\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                            Patient History\n                        </Typography>,\n        main: ()=><SurveyPage />\n    }, \n    {\n        path: \"/PTApage\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              Pure Tone Audiogram\n                              <div>(Researcher Only)</div>\n                        </Typography>,\n        main: ()=><PureTonePage />\n    },\n    {\n        path: \"/assessmentpageSetup/:time\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              User Assessment\n                        </Typography>,\n        main: ()=><AssessmentSetup />\n    },\n    {\n        path: \"/assessmentpage/:currentIsLeft\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              User Assessment\n                        </Typography>,\n        main: ()=><AssessmentPage showNodeNumber={false}/>\n    },\n    {\n        path: \"/qualityAssessmentSetup/:time\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              Quality Assessment Demo    \n                        </Typography>,\n        main: ()=><QualityAssessmentSetup />\n    },\n    {\n        path: \"/qualityAssessmentDemo/\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              Quality Assessment Demo\n                        </Typography>,\n        main: ()=><QualityAssessmentDemo showNodeNumber={false}/>\n    },\n    {\n        path: \"/4AFCpage\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              User Assessment\n                        </Typography>,\n        main: ()=><FourAFCPage />\n    },\n    {\n        path: \"/coarseFitDemo\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              CoarseFit Demo\n                        </Typography>,\n        main: ()=><CoarseFitDemo />\n    },\n    {\n        path: \"/freppingDemo\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                              Frepping Demo\n                        </Typography>,\n        main: ()=><FreppingDemo />\n    },\n    {\n        path: \"/beamformingDemo\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                                Beamforming Demo\n                        </Typography>,\n        main: ()=><BeamformingDemo />\n    },\n    {\n        path: \"/FourAFCDemo\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                                4AFC Demo\n                        </Typography>,\n        main: ()=><FourAFCDemo />\n    },\n    {\n        path: \"/videoDemo\",\n        appBarTitle: () =>  <Typography variant=\"h6\" color=\"inherit\" style={{flexGrow:1}}>\n                                Video Playing Demo\n                        </Typography>,\n        main: ()=><VideoDemo />\n    },\n  ];\n\nclass MainPage extends Component {\n    state = {\n        drawerOpen: false,\n    };\n\n    componentDidMount = async () => {\n        const { updateUser } = this.props.context;\n        await updateUser();\n        const { user, loginMode } = this.props.context;\n        console.log(user, loginMode);\n        if (user && loginMode) {\n            if (loginMode === 'researcher' ) {\n                this.props.history.push('/listenermanagement');\n            }\n            else {\n                this.props.history.push('/researcherpage');\n            }\n        }\n        else {\n            this.props.history.push('/login');\n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState(state => ({drawerOpen: !state.drawerOpen}));\n    }\n\n    handleLogOut = () => {\n        sessionStorage.clear();\n        window.location.reload();\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { loginMode, assessmentDone } = this.props.context;\n        \n        return (\n            <div className={classes.root}>\n                <AppBar position=\"fixed\"  className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton\n                            color=\"inherit\"\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            onClick={this.handleDrawerToggle}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                        <Switch>\n                            {routes.map((route,index)=>(\n                                <Route\n                                    key = {index}\n                                    path = {route.path}\n                                    component = {route.appBarTitle}\n                                />\n                            ))}\n                        </Switch>\n                        <Button\n                            variant=\"outlined\"\n                            color=\"inherit\"\n                            styles={{\n                                margin: 20\n                            }}\n                            onClick={this.handleLogOut}\n                        >\n                            Log Out\n                        </Button>\n                    </Toolbar>\n                </AppBar>\n                <nav className ={classes.drawer}>\n                    <Hidden mdUp implementation = \"css\">\n                        <Drawer\n                            classes = {{\n                                paper: classes.drawerPaper,\n                            }}\n                            anchor = 'left'\n                            variant = \"temporary\"\n                            open = {this.state.drawerOpen}\n                            onClose = {this.handleDrawerToggle}\n                        >\n                            <SideBar \n                                loginMode={loginMode}\n                                assessmentDone={assessmentDone}\n                            />\n                        </Drawer>\n                    </Hidden>\n                    <Hidden smDown implementation = \"css\">\n                        <Drawer\n                            classes = {{\n                                paper: classes.drawerPaper,\n                            }}\n                            variant = \"permanent\"\n                            open\n                        >\n                            <SideBar \n                                loginMode={loginMode}\n                                assessmentDone={assessmentDone}\n                            />\n                        </Drawer>\n                    </Hidden>\n                </nav>\n                <main className={classes.content}>\n                <Switch>\n                    {routes.map((route,index)=>(\n                        <Route \n                        key = {index}\n                        path = {route.path}\n                        component = {route.main}\n                        />\n                    ))}\n                </Switch>\n                </main>\n            </div>\n        );\n    }\n}\n\nMainPage.protoTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n    withUserAuth,\n    withRouter,\n    withStyles(styles)\n)(MainPage);"]},"metadata":{},"sourceType":"module"}