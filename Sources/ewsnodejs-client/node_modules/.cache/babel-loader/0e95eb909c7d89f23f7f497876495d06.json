{"ast":null,"code":"import _regeneratorRuntime from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/osp/ewsnodejs-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{axios}from\"utils/utils\";import{withStyles}from\"@material-ui/styles\";import Typography from\"@material-ui/core/Typography\";import Button from\"@material-ui/core/Button\";import DialogContentText from\"@material-ui/core/DialogContentText\";import TextField from\"@material-ui/core/TextField\";import TableRow from\"@material-ui/core/TableRow\";import TableCell from\"@material-ui/core/TableCell\";import Dialog from\"@material-ui/core/Dialog\";import DialogTitle from\"@material-ui/core/DialogTitle\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import IconButton from\"@material-ui/core/IconButton\";import DeleteIcon from\"@material-ui/icons/Delete\";import EditIcon from\"@material-ui/icons/Edit\";import InfoOutlinedIcon from\"@material-ui/icons/InfoOutlined\";import{withRouter}from\"react-router-dom\";import{compose}from\"recompose\";import withUserAuth from\"context/withUserAuth\";import Checkbox from\"@material-ui/core/Checkbox\";import ListenerLog from\"./listenerLog\";var styles=function styles(theme){return{root:{flexGrow:1},content:{padding:theme.spacing(3)},listenerSection:{marginTop:30,width:\"90%\",maxWidth:1000},listenerSectionContent:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},topBarButton:{marginLeft:30},textField:{width:\"90%\",maxWidth:400,marginBottom:20}};};var ListenerListRow=/*#__PURE__*/function(_Component){_inherits(ListenerListRow,_Component);var _super=_createSuper(ListenerListRow);function ListenerListRow(){var _this;_classCallCheck(this,ListenerListRow);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={listener:_this.props.listener,showLogOpen:false,deleteDialogOpen:false,editPasswordOpen:false,newPassword:\"\",currTabIdx:0,listenerLog:\"\"};_this.componentDidMount=function(){if(_this.props.listener.userLog!=null){_this.setState({listenerLog:JSON.parse(_this.props.listener.userLog)});}};_this.handleTabChange=function(event,currTabIdx){_this.setState({currTabIdx:currTabIdx});};_this.handleOpen=function(){_this.setState({deleteDialogOpen:true});};_this.handleClose=function(){_this.setState({deleteDialogOpen:false});};_this.handleShowLogOpen=function(){_this.setState({showLogOpen:true});};_this.handleShowLogClose=function(){_this.setState({showLogOpen:false});};_this.handleEditPasswordOpen=function(){_this.setState({editPasswordOpen:true});};_this.handleEditPasswordClose=function(){_this.setState({editPasswordOpen:false});};_this.handlePasswordChange=function(event){_this.setState({newPassword:event.target.value});};_this.handleDeleteListener=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/listener/delete\",{listenerID:_this.state.listener.listenerID});case 3:response=_context.sent;console.log(response.data);window.location.reload();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));_this.handleEditPassword=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/api/listener/password\",{listenerID:_this.state.listener.listenerID,newPassword:_this.state.newPassword});case 3:response=_context2.sent;console.log(response.data);window.location.reload();_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return _this;}_createClass(ListenerListRow,[{key:\"render\",value:function render(){var _this$state=this.state,listener=_this$state.listener,deleteDialogOpen=_this$state.deleteDialogOpen,editPasswordOpen=_this$state.editPasswordOpen,newPassword=_this$state.newPassword,listenerLog=_this$state.listenerLog,showLogOpen=_this$state.showLogOpen;var submitDisabled=newPassword===\"\"||newPassword===listener.password;return/*#__PURE__*/React.createElement(TableRow,{hover:true},/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{checked:this.props.selected,onChange:this.props.onClick})),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\",color:\"textSecondary\"},listener.listenerID)),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\",color:\"textPrimary\"},listener.createdAt)),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\",color:\"textPrimary\"},listener.updatedAt)),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(IconButton,{color:\"primary\",onClick:this.handleShowLogOpen},/*#__PURE__*/React.createElement(InfoOutlinedIcon,null)),/*#__PURE__*/React.createElement(IconButton,{color:\"primary\",onClick:this.handleEditPasswordOpen},/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(IconButton,{color:\"secondary\",onClick:this.handleOpen},/*#__PURE__*/React.createElement(DeleteIcon,null))),/*#__PURE__*/React.createElement(Dialog,{open:showLogOpen,fullWidth:true,maxWidth:\"lg\",onClose:this.handleShowLogClose},/*#__PURE__*/React.createElement(ListenerLog,{log:listenerLog,open:showLogOpen}),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:this.handleShowLogClose},\"OK\"))),/*#__PURE__*/React.createElement(Dialog,{open:editPasswordOpen,onClose:this.handleEditPasswordClose},/*#__PURE__*/React.createElement(DialogTitle,null,\"Edit Password\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",label:\"Current Password\",disabled:true,value:listener.password,style:{width:\"90%\",maxWidth:400,marginBottom:20}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",label:\"New Password\",style:{width:\"90%\",maxWidth:400,marginBottom:20},onChange:this.handlePasswordChange})),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleEditPasswordClose,color:\"secondary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{color:\"primary\",disabled:submitDisabled,onClick:this.handleEditPassword},\"Confirm\"))),/*#__PURE__*/React.createElement(Dialog,{open:deleteDialogOpen,onClose:this.handleClose},/*#__PURE__*/React.createElement(DialogTitle,null,\"Delete Listener\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,null,\"Warning! This action is NOT reversable.\")),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleClose,color:\"secondary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:this.handleDeleteListener},\"Delete\"))));}}]);return ListenerListRow;}(Component);export default compose(withUserAuth,withRouter,withStyles(styles))(ListenerListRow);","map":{"version":3,"sources":["/opt/osp/ewsnodejs-client/src/components/listenerListRow.jsx"],"names":["React","Component","axios","withStyles","Typography","Button","DialogContentText","TextField","TableRow","TableCell","Dialog","DialogTitle","DialogActions","DialogContent","IconButton","DeleteIcon","EditIcon","InfoOutlinedIcon","withRouter","compose","withUserAuth","Checkbox","ListenerLog","styles","theme","root","flexGrow","content","padding","spacing","listenerSection","marginTop","width","maxWidth","listenerSectionContent","display","flexDirection","alignItems","topBarButton","marginLeft","textField","marginBottom","ListenerListRow","state","listener","props","showLogOpen","deleteDialogOpen","editPasswordOpen","newPassword","currTabIdx","listenerLog","componentDidMount","userLog","setState","JSON","parse","handleTabChange","event","handleOpen","handleClose","handleShowLogOpen","handleShowLogClose","handleEditPasswordOpen","handleEditPasswordClose","handlePasswordChange","target","value","handleDeleteListener","post","listenerID","response","console","log","data","window","location","reload","alert","handleEditPassword","submitDisabled","password","selected","onClick","createdAt","updatedAt"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { axios } from \"utils/utils\";\nimport { withStyles } from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport withUserAuth from \"context/withUserAuth\";\n\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport ListenerLog from \"./listenerLog\";\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  content: {\n    padding: theme.spacing(3),\n  },\n  listenerSection: {\n    marginTop: 30,\n    width: \"90%\",\n    maxWidth: 1000,\n  },\n  listenerSectionContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  topBarButton: {\n    marginLeft: 30,\n  },\n  textField: {\n    width: \"90%\",\n    maxWidth: 400,\n    marginBottom: 20,\n  },\n});\n\nclass ListenerListRow extends Component {\n  state = {\n    listener: this.props.listener,\n    showLogOpen: false,\n    deleteDialogOpen: false,\n    editPasswordOpen: false,\n    newPassword: \"\",\n    currTabIdx: 0,\n    listenerLog: \"\",\n  };\n  \n  componentDidMount = () => {\n    if(this.props.listener.userLog != null){\n      this.setState({\n        listenerLog: JSON.parse(this.props.listener.userLog),\n      });\n    }\n  }\n\n\n  handleTabChange = (event, currTabIdx) => {\n    this.setState({\n      currTabIdx,\n    });\n  };\n  handleOpen = () => {\n    this.setState({\n      deleteDialogOpen: true,\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      deleteDialogOpen: false,\n    });\n  };\n\n  handleShowLogOpen = () => {\n    this.setState({\n      showLogOpen: true,\n    });\n  };\n\n  handleShowLogClose = () => {\n    this.setState({\n      showLogOpen: false,\n    });\n  };\n\n  handleEditPasswordOpen = () => {\n    this.setState({\n      editPasswordOpen: true,\n    });\n  };\n\n  handleEditPasswordClose = () => {\n    this.setState({\n      editPasswordOpen: false,\n    });\n  };\n\n  handlePasswordChange = (event) => {\n    this.setState({\n      newPassword: event.target.value,\n    });\n  };\n\n  handleDeleteListener = async () => {\n    try {\n      const response = await axios.post(\"/api/listener/delete\", {\n        listenerID: this.state.listener.listenerID,\n      });\n      console.log(response.data);\n      window.location.reload();\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  handleEditPassword = async () => {\n    try {\n      const response = await axios.post(\"/api/listener/password\", {\n        listenerID: this.state.listener.listenerID,\n        newPassword: this.state.newPassword,\n      });\n      console.log(response.data);\n      window.location.reload();\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n\n  render() {\n    const {\n      listener,\n      deleteDialogOpen,\n      editPasswordOpen,\n      newPassword,\n      listenerLog,\n      showLogOpen,\n    } = this.state;\n    const submitDisabled =\n      newPassword === \"\" || newPassword === listener.password;\n\n    return (\n      <TableRow hover>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            checked={this.props.selected}\n            onChange={this.props.onClick}\n          />\n        </TableCell>\n        <TableCell>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">\n            {listener.listenerID}\n          </Typography>\n        </TableCell>\n        <TableCell>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\">\n            {listener.createdAt}\n          </Typography>\n        </TableCell>\n        <TableCell>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\">\n            {listener.updatedAt}\n          </Typography>\n        </TableCell>\n        <TableCell>\n          <IconButton color=\"primary\" onClick={this.handleShowLogOpen}>\n            <InfoOutlinedIcon />\n          </IconButton>\n          <IconButton color=\"primary\" onClick={this.handleEditPasswordOpen}>\n            <EditIcon />\n          </IconButton>\n          <IconButton color=\"secondary\" onClick={this.handleOpen}>\n            <DeleteIcon />\n          </IconButton>\n        </TableCell>\n        <Dialog\n          open={showLogOpen}\n          fullWidth={true}\n          maxWidth=\"lg\"\n          onClose={this.handleShowLogClose}\n        >\n          <ListenerLog log={listenerLog} open={showLogOpen} />\n          <DialogActions>\n            <Button color=\"primary\" onClick={this.handleShowLogClose}>\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Dialog open={editPasswordOpen} onClose={this.handleEditPasswordClose}>\n          <DialogTitle>Edit Password</DialogTitle>\n          <DialogContent>\n            <TextField\n              variant=\"outlined\"\n              label=\"Current Password\"\n              disabled\n              value={listener.password}\n              style={{\n                width: \"90%\",\n                maxWidth: 400,\n                marginBottom: 20,\n              }}\n            />\n            <TextField\n              variant=\"outlined\"\n              label=\"New Password\"\n              style={{\n                width: \"90%\",\n                maxWidth: 400,\n                marginBottom: 20,\n              }}\n              onChange={this.handlePasswordChange}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleEditPasswordClose} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button\n              color=\"primary\"\n              disabled={submitDisabled}\n              onClick={this.handleEditPassword}\n            >\n              Confirm\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog open={deleteDialogOpen} onClose={this.handleClose}>\n          <DialogTitle>Delete Listener</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Warning! This action is NOT reversable.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button color=\"primary\" onClick={this.handleDeleteListener}>\n              Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </TableRow>\n    );\n  }\n}\n\nexport default compose(\n  withUserAuth,\n  withRouter,\n  withStyles(styles)\n)(ListenerListRow);\n"]},"metadata":{},"sourceType":"module"}